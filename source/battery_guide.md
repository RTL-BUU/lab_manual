# Battery Technologies for Robotics

หัวใจสำคัญของหุ่นยนต์เคลื่อนที่คือแหล่งพลังงาน ในห้องปฏิบัติการของเรามีการใช้งานแบตเตอรี่หลักๆ 3 ประเภท คือ **LiFePO4**, **Li-Po**, และ **Li-ion** ซึ่งแต่ละชนิดมีคุณสมบัติทางเคมี ข้อดี-ข้อเสีย และการใช้งานที่แตกต่างกัน

## Technology Overview

เพื่อให้เลือกใช้งานได้ถูกต้อง เราต้องเปรียบเทียบคุณสมบัติหลัก 3 ด้าน:
1.  **Energy Density (ความหนาแน่นพลังงาน):** น้ำหนักเบาแต่จุไฟได้เยอะ (สำคัญกับโดรนหรืออุปกรณ์พกพา)
2.  **Power Density (ความหนาแน่นกำลังงาน):** ความสามารถในการจ่ายกระแสกระชาก (Burst) ได้แรงๆ (สำคัญกับหุ่นยนต์ต่อสู้หรือ Racing)
3.  **Safety & Cycle Life (ความปลอดภัยและอายุการใช้งาน):** ความทนทานต่อการใช้งานและความเสี่ยงในการลุกไหม้

### Battery Comparison

```{list-table}
:widths: 20 20 20 40
:header-rows: 1

* - Type
  - Nominal Voltage
  - Density
  - Characteristics
* - **Li-ion** (Lithium-ion)
  - 3.6V / 3.7V
  - **High Energy**
  - จุไฟเยอะที่สุดต่อน้ำหนัก เหมาะกับงานที่ต้องการเปิดนานๆ แต่กินกระแสไม่กระชากมาก
* - **Li-Po** (Lithium Polymer)
  - 3.7V
  - **High Power**
  - จ่ายกระแส (C-Rate) ได้รุนแรงที่สุด น้ำหนักเบา แต่บวมง่ายและเสี่ยงต่อการลุกไหม้หากดูแลผิดวิธี
* - **LiFePO4** (Lithium Iron Phosphate)
  - 3.2V
  - **High Safety**
  - ปลอดภัยที่สุด ทนทาน (Cycle Life สูง > 2000 รอบ) ราคาประหยัด แต่มีน้ำหนักเยอะและขนาดใหญ่
```







## Terminology & Calculation

การเลือกใช้แบตเตอรี่ให้เหมาะสมกับหุ่นยนต์ จำเป็นต้องเข้าใจความหมายของค่าทางไฟฟ้าต่างๆ เพื่อคำนวณระยะเวลาการใช้งานและความปลอดภัย

### Electrical Units

* **Nominal Voltage (แรงดันปกติ/แรงดันที่ระบุ):**
    คือค่าแรงดันไฟฟ้า "กลาง" ที่ใช้เรียกชื่อแบตเตอรี่ (ไม่ใช่แรงดันตอนชาร์จเต็ม) เช่น LiFePO4 มี Nominal Voltage ที่ 3.2V แต่ชาร์จเต็มที่ 3.65V และหมดที่ 2.5V การคำนวณพลังงานจะใช้ค่านี้เป็นหลัก
* **Amp Hours - Ah (ความจุแบตเตอรี่):**
    คือหน่วยวัดปริมาณประจุไฟฟ้าที่แบตเตอรี่เก็บได้ บอกว่าแบตเตอรี่สามารถจ่ายกระแสได้มากแค่ไหนใน 1 ชั่วโมง
    * *ตัวอย่าง:* แบตเตอรี่ **20Ah** สามารถจ่ายไฟ **20A ได้นาน 1 ชั่วโมง** (หรือจ่าย 10A ได้นาน 2 ชั่วโมง)
* **Watt Hours - Wh (พลังงานรวม):**
    คือหน่วยวัดพลังงานไฟฟ้าที่แท้จริง (เอาแรงดันมาคิดด้วย) ใช้เปรียบเทียบความจุระหว่างแบตต่างชนิดกันได้ดีที่สุด
    * *สูตร:* $Wh = Nominal Voltage (V) \times Capacity (Ah)$
    * *ตัวอย่าง:* แบต 12V 100Ah มีพลังงาน $12 \times 100 = 1200\text{Wh}$
* **Power Consumption (การใช้พลังงาน/กำลังไฟฟ้า):**
    คืออัตราการกินไฟของหุ่นยนต์ (หน่วยเป็น Watt) หาได้จาก $P = V \times I$
    * *ประโยชน์:* ใช้คำนวณว่าหุ่นยนต์จะวิ่งได้นานแค่ไหน (Run time = Battery Wh / Robot Watt)

### Battery Health & Usage

* **Depth of Discharge - DOD (ระดับการคายประจุ):**
    บอกว่าเราใช้แบตเตอรี่ไปแล้วกี่ % (ตรงข้ามกับ SOC ที่บอกว่าเหลือเท่าไหร่)
    * *ข้อแนะนำ:* แบตเตอรี่ส่วนใหญ่ไม่ควรใช้งานจนถึง **100% DOD** (หมดเกลี้ยง) เพราะจะทำให้อายุการใช้งานสั้นลง ควรเหลือไว้อย่างน้อย 10-20%
* **Deep Cycling (การใช้งานรอบลึก):**
    คือการใช้งานแบตเตอรี่จนเกือบหมด (เช่น 80-90% DOD) แล้วชาร์จกลับให้เต็ม แบตเตอรี่ **LiFePO4** ถูกออกแบบมาให้รองรับ Deep Cycling ได้ดีกว่าแบตเตอรี่ตะกั่วกรด
* **BMS - Battery Management System (ระบบจัดการแบตเตอรี่):**
    คือวงจรอิเล็กทรอนิกส์ที่เป็น "สมอง" คอยควบคุมความปลอดภัย หน้าที่หลักคือ:
    1.  ตัดไฟเมื่อชาร์จเกิน (Overcharge)
    2.  ตัดไฟเมื่อใช้จนหมดเกินไป (Over-discharge)
    3.  ป้องกันการลัดวงจร (Short Circuit)
    4.  ปรับสมดุลแรงดันแต่ละเซลล์ (Balancing) ให้เท่ากัน

### Configuration

* **Battery Pack (แพคแบตเตอรี่):**
    คือการนำเซลล์แบตเตอรี่ก้อนเล็กๆ (Cells) มาเชื่อมต่อกันเพื่อให้ได้แรงดันหรือความจุตามต้องการ โดยมีการห่อหุ้มและติด BMS เรียบร้อยพร้อมใช้งาน
* **Series - S (การต่ออนุกรม):**
    คือการต่อขั้วบวกชนขั้วลบ
    * **ผลลัพธ์:** แรงดัน (V) **เพิ่มขึ้น**, ความจุ (Ah) **เท่าเดิม**
    * *ใช้สำหรับ:* ต้องการให้หุ่นยนต์มีแรงขับเคลื่อนสูงขึ้น (เช่น ระบบ 24V, 48V)
* **Parallel - P (การต่อขนาน):**
    คือการต่อขั้วบวกชนบวก ขั้วลบชนลบ
    * **ผลลัพธ์:** แรงดัน (V) **เท่าเดิม**, ความจุ (Ah) **เพิ่มขึ้น**
    * *ใช้สำหรับ:* ต้องการให้หุ่นยนต์วิ่งได้นานขึ้น

---

### Battery Pack Calculation

สมมติเราใช้เซลล์ LiFePO4 ขนาด **3.2V 6000mAh (6Ah)** นำมาประกอบแบบ **8S2P**

1.  **คำนวณแรงดัน (Series 8S):**
    $$3.2\text{V} \times 8 = 25.6\text{V} \text{ (Nominal Voltage)}$$
2.  **คำนวณความจุ (Parallel 2P):**
    $$6\text{Ah} \times 2 = 12\text{Ah}$$
3.  **คำนวณพลังงานรวม (Watt-Hours):**
    $$25.6\text{V} \times 12\text{Ah} = 307.2\text{Wh}$$

**สรุป:** แบตเตอรี่แพคนี้คือ **24V (25.6V) 12Ah**

### Runtime Calculation

สมมติเรามีหุ่นยนต์ AMR ที่ใช้พลังงานเฉลี่ย **50 วัตต์ (W)** และใช้แบตเตอรี่ LiFePO4 ขนาด **24V 15Ah**

**1. คำนวณพลังงานรวมของแบตเตอรี่ (Total Energy):**
$$E_{batt} = 24\text{V} \times 15\text{Ah} = 360\text{Wh (Watt-Hours)}$$

**2. คำนวณระยะเวลาใช้งานทางทฤษฎี (Theoretical Runtime):**
$$Time = \frac{E_{batt}}{Power} = \frac{360\text{Wh}}{50\text{W}} = 7.2\text{ hour}$$

**3. คำนวณระยะเวลาใช้งานจริง (Practical Runtime):**
ในความเป็นจริง เราไม่ควรใช้แบตเตอรี่จนหมดเกลี้ยง (100% DOD) และต้องเผื่อค่าความสูญเสียในระบบแปลงไฟ (Efficiency ~85-90%)
* สมมติเราต้องการเหลือแบตไว้ 20% (ใช้ได้จริง 80%) และประสิทธิภาพระบบ 90%

$$Real\ Time = 7.2\text{ h} \times 0.80 \times 0.90 \approx 5.18\text{ hour}$$

**สรุป:** หุ่นยนต์ตัวนี้จะวิ่งได้ต่อเนื่องประมาณ **5 ชั่วโมง 10 นาที** ก่อนที่แบตเตอรี่จะลดเหลือ 20%









## LiFePO4 Battery

แบตเตอรี่ **LiFePO4** (ลิเธียมฟอสเฟต) ได้รับความนิยมอย่างแพร่หลายในอุตสาหกรรมพลังงาน เนื่องจากจุดเด่นเรื่องความปลอดภัยและอายุการใช้งานที่ยาวนาน (Cycle Life > 2000 รอบ)

### Common Applications 
* **Energy Storage:** ระบบโซล่าเซลล์และโรงไฟฟ้าพลังงานแสงอาทิตย์ นิยมใช้เพราะทนแดดทนร้อนได้ดีและคุ้มค่าในระยะยาว
* **Electric Vehicles (EVs):** รถกอล์ฟ, รถจักรยานไฟฟ้า, และรถยนต์ไฟฟ้าบางรุ่น (เช่น BYD, Tesla รุ่น Standard)
* **Backup Power:** เครื่องสำรองไฟ (UPS) สำหรับ Server หรือสถานีฐานโทรคมนาคม
* **Robotics (AMR/AGV):** หุ่นยนต์ขนส่งในโรงงานและอาคาร

### Why LiFePO4 for Robotics?
ในบริบทของหุ่นยนต์ภาคพื้นดิน (Ground Robot) หรือ AMR แบตเตอรี่ชนิดนี้มีข้อได้เปรียบคือ:
1.  **Safety First:** การเดินในอาคารร่วมกับมนุษย์ ความปลอดภัยคือสิ่งสำคัญที่สุด โครงสร้างเคมีของ LiFePO4 มีพันธะที่แข็งแรง (P-O Bond) ทำให้ไม่เกิดการลุกไหม้ (Thermal Runaway) ง่ายๆ แม้จะถูกชนหรือเจาะ
2.  **Weight as Stability:** แม้จะมีน้ำหนักเยอะกว่า Li-Po (ที่ความจุเท่ากัน) แต่สำหรับหุ่นยนต์ล้อเลื่อน น้ำหนักแบตเตอรี่ที่วางไว้ฐานล่างจะช่วยถ่วงจุดศูนย์ถ่วง (Center of Gravity) ให้ต่ำลง ทำให้หุ่นยนต์เดินนิ่งและไม่ล้มง่าย
3.  **Cost-Effective:** ราคาต่อรอบการใช้งาน (Cost per Cycle) ต่ำที่สุด ช่วยประหยัดงบประมาณในการบำรุงรักษา

### Technical Challenge: The "Flat" Discharge Curve
สิ่งหนึ่งที่นักพัฒนาหุ่นยนต์ต้องรู้คือ **"กราฟการจ่ายไฟที่เรียบแบน"**

* **ข้อดี:** มอเตอร์จะได้รับแรงดันไฟฟ้าที่คงที่ตลอดการใช้งาน (3.2V - 3.3V) ทำให้ความเร็วหุ่นยนต์สม่ำเสมอ ไม่แผ่วปลาย
* **ความท้าทาย:** **"ดูเปอร์เซ็นต์แบตยากมาก"** หากใช้แค่มิเตอร์วัดแรงดัน (Voltmeter) เราแทบจะแยกไม่ออกเลยว่าแบตเตอรี่เหลือ 70%, 50% หรือ 30% เพราะแรงดันแทบจะไม่ต่างกัน (ดูตาราง SOC ประกอบ)
    * *วิธีแก้:* ในหุ่นยนต์ระดับสูง จะใช้วงจรนับประจุ (Coulomb Counting) เพื่อคำนวณปริมาณกระแสที่ไหลออกจริงแทนการวัดแค่แรงดัน

**ข้อควรระวังในการใช้งาน:**
* **ห้ามเสียบสายทิ้งไว้:** วงจรในหุ่นยนต์ (เช่น Step-down, Motor Driver) อาจมีการกินกระแสไฟเลี้ยง (Standby Current) ตลอดเวลา หากจอดทิ้งไว้นานอาจทำให้แบตเตอรี่หมดเกลี้ยงจนเซลล์ตายได้ **ต้องถอดสายขั้วแบตออกเสมอเมื่อเลิกใช้งาน**
* **การเก็บรักษา:** หากไม่ใช้งานนานเกิน 1 สัปดาห์ ให้ชาร์จให้อยู่ในระดับ **Storage Voltage** (ประมาณ 3.3V ต่อเซลล์) เพื่อรักษาสภาพเคมีภายใน

### LiFePO4 SOC Table

ตารางนี้แสดงความสัมพันธ์ระหว่างเปอร์เซ็นต์ความจุแบตเตอรี่ (State of Charge - SOC) และแรงดันไฟฟ้า (Voltage) ขณะพัก (Rest Voltage) ของแบตเตอรี่ชนิด LiFePO4

```{list-table}
:widths: 20 20 20 20 20
:header-rows: 1
:align: center

* - Percentage (SOC)
  - 1 Cell (3.2V)
  - 12V System (4S)
  - 24V System (8S)
  - 48V System (16S)
* - **100% (Charging)**
  - **3.65 V**
  - **14.6 V**
  - **29.2 V**
  - **58.4 V**
* - 100% (Rest)
  - 3.40 V
  - 13.6 V
  - 27.2 V
  - 54.4 V
* - 90%
  - 3.35 V
  - 13.4 V
  - 26.8 V
  - 53.6 V
* - 80%
  - 3.32 V
  - 13.3 V
  - 26.6 V
  - 53.1 V
* - 70%
  - 3.30 V
  - 13.2 V
  - 26.4 V
  - 52.8 V
* - 60%
  - 3.27 V
  - 13.1 V
  - 26.1 V
  - 52.3 V
* - 50%
  - 3.26 V
  - 13.0 V
  - 26.0 V
  - 52.0 V
* - 40%
  - 3.25 V
  - 13.0 V
  - 26.0 V
  - 52.0 V
* - 30%
  - 3.22 V
  - 12.9 V
  - 25.8 V
  - 51.5 V
* - 20%
  - 3.20 V
  - 12.8 V
  - 25.6 V
  - 51.2 V
* - **10% (Critical)**
  - **3.00 V**
  - **12.0 V**
  - **24.0 V**
  - **48.0 V**
* - **0% (Empty)**
  - **2.50 V**
  - **10.0 V**
  - **20.0 V**
  - **40.0 V**
```

```{figure} images/lifepo4_chart.png
:alt: LiFePO4 SOC Chart
:width: 80%
:align: center

กราฟแสดงความสัมพันธ์ระหว่างแรงดันและความจุของแบตเตอรี่ LiFePO4 (SOC Curve)
```

**ข้อสังเกต:** แบตเตอรี่ LiFePO4 มีช่วงแรงดันที่คงที่มาก (Flat Discharge Curve) สังเกตว่าในช่วง **40% - 70%** แรงดันแทบจะไม่เปลี่ยนแปลงเลย (3.25V - 3.30V ต่อเซลล์) ซึ่งเป็นข้อดีที่ทำให้จ่ายไฟได้เสถียร แต่ก็ทำให้การวัดเปอร์เซ็นต์แบตเตอรี่ด้วยแรงดันเพียงอย่างเดียวทำได้ยาก


```{figure} images/lifepo4_24V15Ah.jpg
:alt: แบตเตอรี่ LiFePO4 24V 15Ah
:width: 60%
:align: center

แบตเตอรี่ LiFePO4 รุ่น 24V 15Ah ที่ใช้ในห้องปฏิบัติการ พร้อมสายไฟ XT60 (Discharge) และ DC Jack (Charge)
```


### Battery Specifications

จากแบตเตอรี่รุ่น **24V 15** ที่เราใช้งานจริง มีรายละเอียดทางเทคนิคดังนี้:

* **Battery Model:** 24V 15
* **Nominal Capacity:** 25.6V 15Ah
    * *ความหมาย:* แรงดันปกติคือ 25.6V (เกิดจากเซลล์ 3.2V อนุกรมกัน 8 ก้อน หรือ 8S) และมีความจุ 15 แอมป์-ชั่วโมง
* **Charge Voltage:** 29.4V
    * *ความหมาย:* ต้องใช้เครื่องชาร์จที่จ่ายไฟได้สูงสุด 29.4V (ห้ามใช้ Adapter 24V ทั่วไปชาร์จ เพราะไฟจะไม่เข้าเต็มที่)
* **BMS:** 30A, Balance 2.0A
    * *ความหมาย:* วงจร BMS จ่ายกระแสต่อเนื่องได้สูงสุด 30A (เหมาะกับมอเตอร์ขนาดกลาง) และมีระบบปรับสมดุลแรงดัน (Balance) ในตัว

### Connectors

แบตเตอรี่แพคนี้จะมีสายไฟออกมา 2 ชุด ซึ่งทำหน้าที่ต่างกันอย่างชัดเจน:

1.  **XT60 (หัวสีเหลือง):** สำหรับ **"จ่ายไฟ" (Discharge)**
    * ใช้เสียบเข้ากับบอร์ดควบคุมหุ่นยนต์ หรือ Motor Driver
    * รองรับกระแสสูง (60A+)
2.  **DC Jack 5.5x2.5mm (หัวกลม):** สำหรับ **"ชาร์จไฟ" (Charge)**
    * ใช้เสียบกับ Adapter ชาร์จไฟบ้าน
    * รองรับกระแสต่ำ (ไม่ควรนำไปจ่ายไฟให้มอเตอร์ เพราะขั้วอาจละลายได้)

```{warning}
**ข้อควรระวัง:** ห้ามนำสาย DC Jack ไปเสียบเข้ากับมอเตอร์โดยตรง เพราะอาจทำให้ขั้วต่อไหม้เนื่องจากทนกระแสสูงไม่ได้ ให้ใช้ XT60 เท่านั้น
```

### Runtime Calculation

เพื่อให้เห็นภาพการใช้งานจริง เราจะลองคำนวณว่าหุ่นยนต์ AMR ของเราจะวิ่งได้นานแค่ไหน

**โจทย์:** หุ่นยนต์ใช้พลังงานเฉลี่ย **50 วัตต์ (W)** ใช้แบตเตอรี่ก้อนนี้ (25.6V 15Ah)

**1. คำนวณพลังงานรวม (Total Energy):**
$$E_{batt} = 25.6\text{V} \times 15\text{Ah} = 384\text{Wh (Watt-Hours)}$$

**2. คำนวณระยะเวลาใช้งานทางทฤษฎี:**
$$Time = \frac{384\text{Wh}}{50\text{W}} = 7.68\text{ hour}$$

**3. คำนวณระยะเวลาใช้งานจริง (Safety Margin 20%):**
เพื่อถนอมแบตเตอรี่ เราไม่ควรใช้จนหมดเกลี้ยง (0%) ควรเหลือไว้สัก 20% และเผื่อความสูญเสียในระบบ (Efficiency 90%)

$$Real\ Time \approx 7.68 \times 0.80 \times 0.90 \approx 5.5\text{ hour}$$

**สรุป:** ด้วยแบตเตอรี่ก้อนนี้ หุ่นยนต์จะสามารถเดินลาดตระเวนได้ต่อเนื่องประมาณ **5 ชั่วโมงครึ่ง**








## LiPo Battery

แบตเตอรี่ **Li-Po** (Lithium Polymer) โดดเด่นในเรื่องน้ำหนักที่เบาและการจ่ายพลังงานที่รุนแรง จึงเป็นที่นิยมในวงการ RC (Radio Control) และอุปกรณ์พกพา

### Common Applications
* **UAVs & Drones:** โดรนและเครื่องบินบังคับวิทยุเกือบทั้งหมดใช้ Li-Po เพราะต้องการน้ำหนักเบาที่สุด (High Energy-to-Weight Ratio)
* **Competitive Robotics:** หุ่นยนต์ต่อสู้ (Combat Robots), หุ่นยนต์เตะบอล, หรือหุ่นยนต์วิ่งแข่งที่ต้องการอัตราเร่งสูง
* **Wearable Devices:** นาฬิกาอัจฉริยะหรืออุปกรณ์สวมใส่ เพราะ Li-Po สามารถผลิตเป็นรูปทรงแบนบางหรือรูปทรงอิสระ (Pouch cell) ได้ง่ายกว่า Li-ion ทรงกระบอก

### Why Li-Po for High-Performance Robotics?
ในบริบทของหุ่นยนต์แข่งขันที่ต้องใช้มอเตอร์กำลังสูง Li-Po มีข้อได้เปรียบที่หาตัวจับยากคือ:
1.  **Extreme Discharge Rate (C-Rate):** Li-Po สามารถจ่ายกระแสได้สูงถึง 50C - 100C ในระยะเวลาสั้นๆ ทำให้หุ่นยนต์สามารถออกตัวกระชากหรือหยุดกะทันหันได้ดีเยี่ยม (ในขณะที่ Li-ion ปกติทำได้เพียง 5C-10C)
2.  **Low Internal Resistance:** ความต้านทานภายในต่ำทำให้เกิดความร้อนน้อยกว่าเมื่อจ่ายกระแสสูง ช่วยลดการสูญเสียพลังงาน (Voltage Sag)
3.  **Form Factor Flexibility:** เนื่องจากเป็นซองนิ่ม (Soft Pouch) จึงสามารถจัดวางในพื้นที่จำกัดของหุ่นยนต์ได้ง่ายกว่าแบตเตอรี่ทรงแข็ง

### Technical Challenges: Saftey & Fragility
แม้จะมีสมรรถนะสูง แต่ Li-Po ก็มีความเปราะบางที่ต้องดูแลเป็นพิเศษ:
* **Puffing (อาการบวม):** หากใช้งานหนักเกินกำลัง (Over-discharge) หรือเก็บในที่ร้อน สารเคมีภายในจะเกิดก๊าซทำให้แบตเตอรี่บวมเป่ง ซึ่งเป็นสัญญาณอันตราย **ห้ามเจาะ** และควรเลิกใช้งานทันที
* **Physical Fragility:** เปลือกหุ้มเป็นเพียงพลาสติกบางๆ หากหุ่นยนต์ชนกันรุนแรงจนแบตเตอรี่ถูกเจาะ ลิเธียมจะทำปฏิกิริยากับอากาศและลุกไหม้อย่างรุนแรง (Thermal Runaway)
* **Storage Maintenance:** Li-Po เสื่อมสภาพเร็วมากหากเก็บแบบ "เต็มร้อย" (Full Charge) หรือ "หมดเกลี้ยง" (Empty) เป็นเวลานาน ต้องเก็บที่แรงดัน **Storage (3.80V - 3.85V)** เท่านั้นหากไม่ใช้งานเกิน 3 วัน

### Li-Po SOC Table

ตารางแสดงความสัมพันธ์ระหว่างความจุ (SOC) และแรงดันไฟฟ้าขณะพัก (Rest Voltage) ของแบตเตอรี่ Li-Po มาตรฐาน

```{list-table}
:widths: 20 20 20 20 20
:header-rows: 1
:align: center

* - Percentage (SOC)
  - 1 Cell (3.7V)
  - 2S (7.4V)
  - 3S (11.1V)
  - 6S (22.2V)
* - **100% (Full)**
  - **4.20 V**
  - **8.40 V**
  - **12.60 V**
  - **25.20 V**
* - 90%
  - 4.13 V
  - 8.26 V
  - 12.39 V
  - 24.78 V
* - 80%
  - 4.06 V
  - 8.12 V
  - 12.18 V
  - 24.36 V
* - 70%
  - 3.99 V
  - 7.98 V
  - 11.97 V
  - 23.94 V
* - 60%
  - 3.92 V
  - 7.84 V
  - 11.76 V
  - 23.52 V
* - 50% (Storage)
  - 3.85 V
  - 7.70 V
  - 11.55 V
  - 23.10 V
* - 40%
  - 3.79 V
  - 7.58 V
  - 11.37 V
  - 22.74 V
* - 30%
  - 3.73 V
  - 7.46 V
  - 11.19 V
  - 22.38 V
* - 20% (Low)
  - 3.68 V
  - 7.36 V
  - 11.04 V
  - 22.08 V
* - **10% (Critical)**
  - **3.60 V**
  - **7.20 V**
  - **10.80 V**
  - **21.60 V**
* - **0% (Empty)**
  - **3.20 V**
  - **6.40 V**
  - **9.60 V**
  - **19.20 V**
```

### Technical Insight: Voltage Sag

เคยสงสัยไหมครับว่า **"ทำไมแบตเตอรี่เพิ่งชาร์จมาเต็ม 100% แต่พอหุ่นยนต์ออกตัวแรงๆ สัญญาณเตือนแบตหมดกลับดังขึ้น?"**

ปรากฏการณ์นี้เรียกว่า **Voltage Sag**

#### สาเหตุทางฟิสิกส์
แบตเตอรี่ทุกก้อนมีความต้านทานภายใน (**Internal Resistance**) เปรียบเสมือนท่อน้ำที่ไม่ได้โล่งตลอดแต่มีตะกอนขวางอยู่ ตามกฎของโอห์ม:

$$V_{load} = V_{rest} - (I_{current} \times R_{internal})$$

* **$V_{load}$:** แรงดันที่เราวัดได้จริงขณะใช้งาน
* **$V_{rest}$:** แรงดันจริงของแบตเตอรี่ (ตามตาราง SOC)
* **$I \times R$:** แรงดันที่หายไป (Voltage Drop)

**สถานการณ์ตัวอย่าง:**
แบตเตอรี่ Li-Po 6S (25.2V) มีความต้านทานภายใน $0.02\Omega$
* **จอดนิ่ง (0A):** แรงดันวัดได้ **25.2V** (เต็ม 100%)
* **ออกตัวกระชาก (50A):** แรงดันจะหายไป $50 \times 0.02 = 1.0\text{V}$
* **แรงดันที่วัดได้:** เหลือแค่ **24.2V** (ดูเหมือนแบตลดลงชั่วคราว)

#### วิธีดูค่า SOC ที่ถูกต้อง
ตาราง SOC (State of Charge) ด้านบน ใช้อ้างอิงได้เฉพาะตอน **Resting (แบตเตอรี่อยู่นิ่งๆ ไม่มีการจ่ายไฟ)** เท่านั้น

* **ขณะหุ่นยนต์วิ่ง:** ห้ามเชื่อค่า Voltage ที่อ่านได้ 100% เพราะมันคือค่าที่รวม Voltage Sag เข้าไปแล้ว (ค่าจะต่ำกว่าความเป็นจริง)
* **ขณะจอดพัก:** ให้หยุดหุ่นยนต์ประมาณ 10-20 วินาที เพื่อให้เคมีภายในแบตเตอรี่คืนตัว (Recovery) แรงดันจะเด้งกลับมาเป็นค่าจริง แล้วค่อยเทียบกับตาราง

#### การตั้งค่า Low Voltage Alarm
เนื่องจากมี Voltage Sag เราจึงไม่ควรตั้งค่าเตือนที่จุดวิกฤตพอดีเป๊ะ

* **Li-Po Critical (Rest):** 3.50V ต่อเซลล์ (แบตเกือบหมด)
* **Alarm Setting (Load):** ควรตั้งเผื่อ Sag ไว้ที่ **3.30V - 3.40V** ต่อเซลล์
    * หากตั้งไว้สูงเกินไป (เช่น 3.6V) หุ่นยนต์จะร้องเตือนตลอดเวลาที่เร่งเครื่อง ทั้งที่แบตยังไม่หมดจริง

```{tip}
**Pro Tip:** สำหรับหุ่นยนต์แข่งขัน การดู **กระแสรวม (mAh Consumed)** ที่ใช้ไป แม่นยำกว่าการดูแรงดัน (Voltage) เพราะไม่ขึ้นกับแรงดันตก
```

### Battery Specifications

จากแบตเตอรี่รุ่น **BT BEAT LIPO** ที่ใช้ในแลป มีรายละเอียดดังนี้:

```{figure} images/lipo_24V_5200mAh.jpg
:alt: แบตเตอรี่ Li-Po 22.2V 5200mAh
:width: 60%
:align: center

แบตเตอรี่ Li-Po 6S 22.2V 5200mAh (65C) พร้อมสายไฟ XT60 และ Balance Plug
```

* **Capacity:** 5200 mAh (5.2 Ah)
* **Voltage:** 22.2V (6S)
    * *ความหมาย:* เกิดจากเซลล์ Li-Po 3.7V อนุกรมกัน 6 ก้อน
    * **Fully Charged:** 25.2V (4.2V ต่อเซลล์)
* **C-Rate (Discharge):** 65C
    * *ความหมาย:* จ่ายกระแสต่อเนื่องได้สูงสุดถึง $5.2\text{Ah} \times 65 = 338\text{A}$ !! (เหมาะมากสำหรับมอเตอร์ที่กินกระแสกระชากสูงๆ)

### Li-Po Checker & Low Voltage Alarm

เนื่องจาก Li-Po มีความเปราะบาง หากแรงดันต่ำกว่า **3.0V** เซลล์จะเสียหายถาวรทันที เราจึงต้องใช้อุปกรณ์ **Li-Po Checker** เสียบติดไว้ตลอดการใช้งาน

```{figure} images/lipo_checker.jpg
:alt: Li-Po Checker
:width: 40%
:align: center

อุปกรณ์ Li-Po Checker สำหรับวัดแรงดันและแจ้งเตือนเมื่อแบตเตอรี่อ่อน
```

**วิธีใช้งานและการตั้งค่า:**
1.  **การเสียบ:** หันด้านเรียบของ Checker ขึ้น และเสียบสาย Balance ของแบตเตอรี่โดยเริ่มจาก **ขาสุดท้าย** (ขั้วลบ/สายสีดำ) ให้ตรงกับขา **(-) GND** ของ Checker
2.  **การอ่านค่า:** หน้าจอจะวนแสดงค่าแรงดันรวม (ALL) และแรงดันทีละเซลล์ (รุ่นในภาพเช็คได้สุงสุด 8S) ให้ตรวจสอบว่าทุกเซลล์มีแรงดัน **มากกว่า 3.7V** ก่อนเริ่มใช้งาน
3.  **การตั้งค่าเสียงเตือน (Buzzer):**
    * กดปุ่มเล็กๆ ระหว่างลำโพงเพื่อตั้งค่าแรงดันเตือน
    * แนะนำให้ตั้งไว้ที่ **3.50V** หรือ **3.60V**
    * เมื่อเซลล์ใดเซลล์หนึ่งต่ำกว่าค่าที่ตั้งไว้ ลำโพงจะส่งเสียงดังมาก ให้รีบนำหุ่นยนต์กลับมาชาร์จทันที

```{warning}
**ระวัง! ห้ามลืมถอด:** Li-Po Checker กินไฟจากแบตเตอรี่ตลอดเวลา หากเสียบทิ้งไว้ข้ามวัน แบตเตอรี่จะถูกดึงไฟจนหมดเกลี้ยง (Deep Discharge) และเสียหายถาวรทันที **ต้องถอดออกเมื่อเลิกใช้งาน**
```

### Runtime Calculation

**โจทย์:** หุ่นยนต์ Mecanum แข่งขัน ใช้พลังงานเฉลี่ย **50 วัตต์ (W)** ใช้แบตเตอรี่ก้อนนี้ (22.2V 5.2Ah)

**1. คำนวณพลังงานรวม (Total Energy):**
$$E_{batt} = 22.2\text{V} \times 5.2\text{Ah} \approx 115.4\text{Wh}$$

**2. คำนวณระยะเวลาใช้งาน (Practical Runtime):**
สำหรับ Li-Po เพื่อความปลอดภัยและยืดอายุการใช้งาน เราไม่ควรใช้จนหมดเกลี้ยง ควรเหลือไว้ประมาณ 30%

$$Time = \frac{115.4\text{Wh}}{50\text{W}} = 2.3\text{ hour}$$

$$Real\ Time \approx 2.3 \times 0.70 \approx 1.6\text{ hour}$$

**สรุป:** หุ่นยนต์จะวิ่งได้ประมาณ **1 ชั่วโมง 30 นาที** ซึ่งเพียงพอสำหรับการแข่งขัน 1-2 แมตช์ แต่ต้องเตรียมแบตสำรองไว้เปลี่ยนเสมอ

### Signs of Failure

Li-Po เป็นแบตเตอรี่ที่มีความเสี่ยงสูง หากพบอาการดังต่อไปนี้ **ห้ามนำมาชาร์จหรือใช้งานเด็ดขาด**:

1.  **อาการบวม (Puffing):** เกิดจากก๊าซที่สะสมภายในเนื่องจากความร้อนหรือเสื่อมสภาพ หากฝืนใช้ต่ออาจระเบิดได้
2.  **รอยเจาะ/ถลอกลึก:** หากเปลือกหุ้มฉีกขาดจนเห็นเนื้อใน ลิเธียมอาจทำปฏิกิริยากับอากาศและลุกไหม้
3.  **ชาร์จไม่เข้า/แรงดันไม่เท่ากัน:** หากเซลล์ใดเซลล์หนึ่งมีแรงดันต่ำผิดปกติ (เช่น 2.0V ขณะที่ก้อนอื่น 3.8V) แสดงว่าเซลล์ตายแล้ว

**วิธีกำจัด (Disposal):**
ต้องทำลายปฏิกิริยาเคมีก่อนทิ้ง โดยการแช่ใน **น้ำเกลือเข้มข้น** เป็นเวลา 1 คืน จนไม่มีฟองอากาศผุดออกมา แล้วจึงนำไปทิ้งในถังขยะอันตราย (สีแดง) หรือจุดรับทิ้ง E-Waste








## Li-ion Battery

แบตเตอรี่ **Li-ion (Lithium-ion)** เป็นมาตรฐานของโลกแบตเตอรี่ในปัจจุบัน โดยเฉพาะรูปทรงกระบอก (Cylindrical Cell) เช่นขนาด **18650** และขนาดใหม่ **21700** ที่นิยมใช้ในรถยนต์ไฟฟ้าและอุปกรณ์อิเล็กทรอนิกส์

### Applications & Characteristics

ด้วยคุณสมบัติที่สมดุลระหว่างน้ำหนักและความจุ Li-ion จึงถูกใช้งานในหลากหลายอุตสาหกรรม:

* **Electric Vehicles (EVs):** รถยนต์ไฟฟ้า (เช่น Tesla Model 3/Y) และมอเตอร์ไซค์ไฟฟ้า นิยมใช้เซลล์ 21700 มาประกอบเป็นแพคใหญ่ใต้ท้องรถ
* **Micromobility:** สกู๊ตเตอร์ไฟฟ้า และจักรยานไฟฟ้า (E-Bike)
* **Long-Endurance Drones:** โดรนสำรวจที่เน้นบินนาน (30-60 นาที) และไม่ได้บินผาดโผน
* **IoT & Portable Devices:** Power Bank, ไฟฉายแรงสูง, และอุปกรณ์ Smart Home

### Why Li-ion for Energy Density?

จุดเด่นที่สุดของ Li-ion คือ **Energy Density (ความหนาแน่นพลังงาน)**
1.  **Lightweight High Capacity:** ในน้ำหนักที่เท่ากัน Li-ion สามารถเก็บไฟได้มากกว่า LiFePO4 ถึง 1.5 - 2 เท่า ทำให้เหมาะกับอุปกรณ์ที่ต้องพกพาหรือบิน
2.  **Standard Form Factor:** รูปทรงกระบอกมาตรฐาน (21700) แข็งแรงทนทานต่อแรงกระแทกมากกว่าแบบซอง (Li-Po) และระบายความร้อนได้ดีกว่าเมื่อจัดเรียงแบบเว้นช่องว่าง
3.  **Low Self-Discharge:** เก็บไฟได้นานโดยประจุไม่หายไปเอง (ต่ำกว่า 5% ต่อเดือน)

### Technical Challenges: Heat

จากการใช้งานจริงในห้องปฏิบัติการ พบข้อจำกัดที่ผู้ใช้ต้องระวัง:

* **Heat Generation (ความร้อนสะสม):**
    * แบตเตอรี่ Li-ion รุ่นเน้นความจุสูง (High Capacity) มักมีความต้านทานภายในสูงกว่ารุ่นเน้นจ่ายกระแส (High Discharge)
    * *กรณีศึกษา:* การนำเซลล์ความจุสูงไปทำแบตเตอรี่โดรน (6S2P) แล้วบินต่อเนื่อง 30 นาที (Discharge ~2C) อาจพบว่าแบตเตอรี่ **ร้อนจัด** จนจับไม่ได้ นี่คือผลของ $I^2R$ Loss
    * *คำแนะนำ:* หากใช้งานที่กระแสสูงต่อเนื่อง ควรเลือกเกรด **High Discharge Cell** (ยอมลดความจุลงเพื่อแลกกับการจ่ายกระแสได้เย็นขึ้น)
* **Counterfeits (ของปลอม):**
    * ในตลาดมีเซลล์ปลอมระบาดมาก โดยเฉพาะการอ้างชื่อแบรนด์ดัง หรือระบุสเปคเกินจริง (เช่น 18650 9900mAh ซึ่งเป็นไปไม่ได้ในทางฟิสิกส์)
    * เซลล์ที่อ้างว่าเป็น "เกรด Tesla" หรือ "ถอดจากรถ" มักเป็นของตกเกรด (Reject) หรือของมือสองที่มีคุณภาพไม่สม่ำเสมอ

### Li-ion SOC Table

ตารางแสดงความสัมพันธ์ระหว่างความจุและแรงดันของ Li-ion (NMC/NCA Chemistry)

```{list-table}
:widths: 20 20 20 20 20
:header-rows: 1
:align: center

* - Percentage (SOC)
  - 1 Cell (3.7V)
  - 2S (7.4V)
  - 3S (11.1V)
  - 4S (14.8V)
* - **100% (Full)**
  - **4.20 V**
  - **8.40 V**
  - **12.60 V**
  - **16.80 V**
* - 90%
  - 4.10 V
  - 8.20 V
  - 12.30 V
  - 16.40 V
* - 80%
  - 4.00 V
  - 8.00 V
  - 12.00 V
  - 16.00 V
* - 70%
  - 3.90 V
  - 7.80 V
  - 11.70 V
  - 15.60 V
* - 60%
  - 3.80 V
  - 7.60 V
  - 11.40 V
  - 15.20 V
* - 50% (Nominal)
  - 3.70 V
  - 7.40 V
  - 11.10 V
  - 14.80 V
* - 40%
  - 3.60 V
  - 7.20 V
  - 10.80 V
  - 14.40 V
* - 30%
  - 3.50 V
  - 7.00 V
  - 10.50 V
  - 14.00 V
* - 20% (Low)
  - 3.40 V
  - 6.80 V
  - 10.20 V
  - 13.60 V
* - **10% (Critical)**
  - **3.30 V**
  - **6.60 V**
  - **9.90 V**
  - **13.20 V**
* - **0% (Empty)**
  - **3.00 V**
  - **6.00 V**
  - **9.00 V**
  - **12.00 V**
```

```{figure} images/liion_chart.png
:alt: Li-ion SOC Chart
:width: 80%
:align: center

กราฟแสดงความสัมพันธ์ระหว่างแรงดันและความจุของแบตเตอรี่ Li-ion (SOC Curve)
```

**ข้อสังเกต:**
* กราฟนี้จะโชว์ให้เห็นว่า Li-ion มีการลดลงของแรงดันที่ **"ชันและต่อเนื่อง" (Linear Drop)** มากกว่า LiFePO4 ทำให้เราสามารถกะปริมาณแบตเตอรี่ที่เหลือจากแรงดันได้ง่ายกว่า


### Battery Specifications

จากแบตเตอรี่รุ่น **NCR21700** ที่ใช้ในแลป มีรายละเอียดดังนี้:

```{figure} images/li-ion_NCR21700_4800.jpg
:alt: แบตเตอรี่ Panasonic NCR21700 4800mAh
:width: 60%
:align: center

แบตเตอรี่ Li-ion ขนาด 21700 รุ่นความจุสูง (4800mAh) สำหรับงาน IoT และงานทั่วไป
```

* **Model:** NCR21700 (รหัส NCR มักหมายถึงเคมี Nickel Cobalt Aluminum - NCA ของ Panasonic/Sanyo)
* **Nominal Voltage:** 3.7V
* **Capacity:** 4800mAh (4.8Ah)
* **Energy:** 17.8Wh (คำนวณจาก $3.7\text{V} \times 4.8\text{Ah}$)
* **Standard Charge/Discharge:** แนะนำใช้งานที่ 0.5C - 1C เพื่อยืดอายุการใช้งาน

###  Runtime Calculation

**โจทย์:** ใช้งานเซลล์นี้ (1 ก้อน) จ่ายไฟให้กับ **ระบบ IoT** ที่กินพลังงาน **5 วัตต์ (W)**

**1. พลังงานรวม (Total Energy):**
ระบุบนฉลาก = **17.8 Wh**

**2. คำนวณระยะเวลาใช้งาน (Practical Runtime):**
กำหนดให้ใช้แบตเตอรี่ได้ 85% (เหลือ 15%) และประสิทธิภาพวงจรแปลงไฟ 90%

$$Time = \frac{17.8\text{Wh}}{5\text{W}} \times 0.85 \times 0.90 \approx 2.72\text{ hour}$$

**สรุป:** แบตเตอรี่ก้อนเดียวสามารถขับเคลื่อนอุปกรณ์ IoT 5W ได้นานประมาณ **2 ชั่วโมง 40 นาที**







## Disposal (การกำจัดแบตเตอรี่เสื่อมสภาพ)

แบตเตอรี่ลิเธียมที่บวม เสื่อมสภาพ หรือชำรุด ถือเป็น "วัตถุระเบิด" หากยังมีประจุไฟค้างอยู่ การทิ้งลงถังขยะทันที (แม้จะเป็นถังแดง) มีความเสี่ยงสูงที่แบตเตอรี่จะถูกกระแทกจนไฟลุกไหม้ได้

ทางห้องปฏิบัติการ RTL จึงกำหนดมาตรฐานการกำจัดด้วยวิธี **Saltwater Immersion (การแช่น้ำเกลือ)** เพื่อคายประจุให้เหลือ 0V อย่างสมบูรณ์ก่อนนำไปทิ้ง

### ขั้นตอนการปฏิบัติ (Standard Operating Procedure)

วิธีนี้ใช้ได้กับแบตเตอรี่ลิเธียมทุกชนิด (**Li-Po, Li-ion, LiFePO4**)

**1. เตรียมสถานที่และอุปกรณ์:**
* **สถานที่:** ต้องทำในที่ **อากาศถ่ายเทสะดวก (Well-ventilated)** หรือภายนอกอาคารเท่านั้น ห้ามทำในห้องปิดทึบ
* **ภาชนะ:** ใช้ถัง **พลาสติก** เท่านั้น (ห้ามใช้ถังโลหะเพราะเกลือจะกัดกร่อนและนำไฟฟ้า)
* **น้ำเกลือ:** ผสมเกลือแกง (Salt) กับน้ำเปล่าในอัตราส่วน **เกลือ 1 ส่วน ต่อน้ำ 10 ส่วน** (จนอิ่มตัว)

**2. ขั้นตอนการแช่ (Submersion):**
* หย่อนแบตเตอรี่ลงในถังน้ำเกลือที่เตรียมไว้ให้ท่วมมิดทั้งก้อนและสายไฟ
* **ปฏิกิริยา:** จะสังเกตเห็นฟองอากาศผุดออกมาทางขั้วแบตเตอรี่ นี่คือกระบวนการ Electrolysis ที่กำลังคายประจุไฟฟ้า
* **ระยะเวลา:** แช่ทิ้งไว้อย่างน้อย **24 - 48 ชั่วโมง** หรือจนกว่าจะไม่มีฟองอากาศผุดขึ้นมาอีก

**3. การตรวจสอบ (Verification):**
* นำแบตเตอรี่ขึ้นมาเช็ดให้แห้ง
* ใช้ Multimeter วัดแรงดันที่ขั้วแบตเตอรี่
* **Pass:** แรงดันต้องเป็น **0.0V** (ถือว่าปลอดภัย กลายเป็นขยะธรรมดาที่ไม่ระเบิดแล้ว)

**4. การแยกทิ้ง (Final Disposal):**
* **ตัวแบตเตอรี่ (ของแข็ง):** เมื่อแรงดันเป็น 0V แล้ว ให้ตัดขั้วสายไฟออก แล้วนำไปทิ้งใน **"ถังขยะสำหรับซากแบตเตอรี่"** ที่แลปจัดเตรียมไว้ (ห้ามทิ้งรวมกับถังแดงคณะ เพื่อป้องกันการปนเปื้อน)
* **น้ำเกลือ (ของเหลว):** น้ำเกลือที่ผ่านการแช่จะมีสารเคมีและโลหะหนักปนเปื้อน **ห้ามเทลงท่อระบายน้ำทั่วไป** ให้เทใส่ **"ถังเก็บสารเคมีอันตราย (Chemical Waste)"** ของแลป

```{danger}
**ข้อควรระวังและอันตราย (Hazards):**

1.  **แก๊สพิษ/ไวไฟ:** กระบวนการแช่น้ำเกลือจะเกิดก๊าซ **Hydrogen (ติดไฟได้)** และอาจมีก๊าซ **Chlorine (มีกลิ่นฉุน/ระคายเคือง)** เกิดขึ้นเล็กน้อย จึง**ห้าม**สูบบุหรี่หรือจุดไฟใกล้ถังแช่ และต้องวางถังในที่อากาศถ่ายเท
2.  **การกัดกร่อน:** น้ำเกลือจะกัดกร่อนขั้วโลหะจนละลาย ห้ามนำแบตเตอรี่ที่แช่แล้วกลับมาใช้งานเด็ดขาด
3.  **สารพิษตกค้าง:** ห้ามสัมผัสน้ำในถังด้วยมือเปล่า ควรใส่ถุงมือยางทุกครั้ง
```






## Charging with IMAX B6AC (คู่มือการใช้งานเครื่องชาร์จ)

เครื่องชาร์จ **IMAX B6AC** เป็นอุปกรณ์มาตรฐานในห้องปฏิบัติการ รองรับแบตเตอรี่หลากหลายชนิดและมีระบบความปลอดภัยพื้นฐาน แต่เนื่องจากอินเทอร์เฟซเป็นปุ่มกดและมีข้อจำกัดด้านกำลังไฟ ผู้ใช้จึงต้องเข้าใจสเปคของเครื่องให้ชัดเจน

### Device Specifications (ข้อมูลจำเพาะของเครื่อง)

ข้อมูลจากหน้าเครื่องและคู่มือระบุขีดความสามารถไว้ดังนี้:

* **Input Voltage (ไฟเข้า):**
    * **AC:** 100-240V (เสียบปลั๊กไฟบ้านได้เลย)
    * **DC:** 11-18V (สามารถใช้แบตเตอรี่รถยนต์หรือ Adapter จ่ายไฟให้เครื่องได้ทางช่องด้านซ้าย)
* **Supported Batteries (แบตเตอรี่ที่รองรับ):**
    * **Li-ion / LiPo / LiFe:** 1 - 6 Cells (Series)
    * **NiCd / NiMH:** 1 - 15 Cells
    * **Pb (Lead-Acid):** 2 - 20V
* **Circuit Power (กำลังงาน):**
    * **Max Charge:** 80 Watts
    * **Max Discharge:** 5 Watts (ค่อนข้างน้อย)
* **Current Range (ย่านกระแส):**
    * **Charge:** 0.1 - 6.0 A
    * **Discharge:** 0.1 - 2.0 A

```{figure} images/imax_6bac.jpg
:alt: IMAX B6AC Charger
:width: 70%
:align: center

หน้าจอขณะตั้งค่าโหมด **LiPo BALANCE** ด้วยกระแส **2.5A** สำหรับแบตเตอรี่ **11.1V (3S)**
```

```{warning}
**ความเข้าใจผิดเรื่อง "Max Current" vs "Max Watt"**

เครื่องระบุว่าชาร์จได้สูงสุด **6A** ก็จริง แต่ต้องไม่เกิน **80W**
* **แบต 3S (12.6V):** ชาร์จ 6A ได้ (กินไฟ $\approx 75W$)
* **แบต 6S (25.2V):** ชาร์จได้สูงสุดเพียง **3.1A** เท่านั้น ($80W / 25.2V$) หากตั้งเกิน เครื่องจะลดกระแสลงอัตโนมัติ

เช่นเดียวกันกับ **Discharge** ที่ระบุ **2A** แต่จำกัดที่ **5W**
* **แบต 6S (24V):** จะดึงกระแสได้จริงแค่ **0.2A** เท่านั้น ($5W / 24V$) การใช้เครื่องนี้ Discharge แบตก้อนใหญ่จึงใช้เวลานานมาก
```

### Control Buttons (ปุ่มควบคุม)

เครื่องมีปุ่มเรียงจากซ้ายไปขวา 4 ปุ่ม ให้จำหน้าที่ดังนี้:

1.  **Type / Stop (ปุ่มซ้ายสุด):** เลือกชนิดแบตเตอรี่ / ย้อนกลับ / หยุดทำงาน
2.  **Dec / < (ปุ่มลบ/ซ้าย):** ลดตัวเลข / เลื่อนเมนูซ้าย
3.  **Inc / > (ปุ่มบวก/ขวา):** เพิ่มตัวเลข / เลื่อนเมนูขวา / ดูค่าแต่ละเซลล์
4.  **Start / Enter (ปุ่มขวาสุด):** ตกลง / **กดค้างเพื่อเริ่มทำงาน**

### Connections (การเชื่อมต่อสาย)

ก่อนเปิดเครื่อง ต้องต่อสายให้ครบถ้วนถูกต้อง:

1.  **Power Input:** เสียบปลั๊กไฟบ้าน (AC) หรือเสียบสาย DC ด้านข้าง (อย่างใดอย่างหนึ่ง)
2.  **Main Output:**
    * เสียบสายหัวกล้วย (Banana Plug) สีแดง (+) และดำ (-) เข้าหน้าเครื่อง
    * ปลายสายเป็นหัว **XT60** หรือ **XT90** ตามรุ่นแบตเตอรี่
3.  **Battery Connection:**
    * **สายหลัก (Power):** เสียบหัว XT60 ของแบตเตอรี่เข้ากับสายชาร์จ
    * **สายบาลานซ์ (Balance Plug):** (สำคัญมาก!) หัวสีขาวเล็กๆ ต้องเสียบเข้ากับช่องด้านข้างเครื่อง เลือกช่องที่มีจำนวนรูเท่ากับแบตเตอรี่ (เช่น 3S, 4S, 6S)

```{danger}
**คำเตือน:** สำหรับแบตเตอรี่ **Li-Po, LiFePO4, Li-ion แพค** ต้องเสียบสาย Balance ทุกครั้ง เพื่อให้เครื่องตรวจสอบแรงดันรายเซลล์ หากไม่เสียบ เครื่องอาจชาร์จเกินจนไฟไหม้ได้
```

### Operation Flow (ขั้นตอนการตั้งค่า)

**Step 1: เลือกชนิดแบตเตอรี่ (Battery Type)**
กด **Stop** หรือ **< >** จนเจอเมนู `PROGRAM SELECT` และกด **Enter** เลือกให้ตรงชนิดแบต (สำคัญมาก เพราะแรงดันตัดต่างกัน):
* **LiPo BATT:** 3.7V (ตัด 4.2V)
* **LiFe BATT:** 3.2V (ตัด 3.6V) -> **ใช้สำหรับแบตหุ่นยนต์ AMR**
* **LiIo BATT:** 3.6V (ตัด 4.1V)

**Step 2: เลือกโหมดการทำงาน (Select Mode)**
กด **Enter** เข้ามาแล้ว กด **< >** เพื่อเปลี่ยนโหมด:
* **BALANCE:** **(แนะนำ)** ชาร์จพร้อมเกลี่ยแรงดันทุกเซลล์ให้เท่ากัน
* **CHARGE:** ชาร์จธรรมดา (ไม่แนะนำสำหรับแพคหลายเซลล์)
* **STORAGE:** ปรับแรงดันให้อยู่ระดับกึ่งกลาง (3.8V หรือ 3.3V) สำหรับเก็บรักษาระยะยาว

**Step 3: ตั้งค่าพารามิเตอร์ (Settings)**
ดูตัวอย่างจาก (`2.5A  11.1V(3S)`)
1.  **Current (A):** กด **Enter** ให้ตัวเลขกระพริบ ปรับ **+ / -** ตามความจุแบต (แนะนำ 0.5C - 1C)
2.  **Voltage/Cell (S):** กด **Enter** ไปที่ตัวเลขโวลต์ ปรับให้ตรงกับสเปคแบต (เครื่องจะคำนวณจำนวนเซลล์ S ให้อัตโนมัติ เช่น 11.1V คือ 3S)
3.  **Start:** กดปุ่ม **Start ค้างไว้ 3 วินาที** เพื่อเริ่ม

**Step 4: ยืนยันความถูกต้อง (Check)**
หน้าจอจะขึ้น `R: 3SER S: 3SER` (ตัวอย่าง)
* **R:** จำนวนเซลล์ที่เครื่องนับได้จริง
* **S:** จำนวนเซลล์ที่เราตั้งค่า
* **ต้องเท่ากันเท่านั้น** ถ้าไม่เท่าให้กด **Stop** กลับไปเช็คสาย

### Monitoring & Safety (การดูค่าและการตัดการทำงาน)

ขณะชาร์จ หน้าจอจะแสดงค่า:

```{code-block} text
Li3S  2.5A  12.59V
BAL   022:45  00682
```

* **บรรทัดบน:** (ชนิดแบต / กระแสชาร์จ / แรงดันรวม)
* **บรรทัดล่าง:** (โหมด / เวลาที่ใช้ / ประจุที่อัดเข้าหน่วย mAh)

เครื่องจะตัดการทำงานอัตโนมัติเมื่อ:
1.  **FULL:** แรงดันถึงกำหนด (เช่น LiPo 4.2V/cell)
2.  **CAPACITY CUT-OFF:** ประจุเกินค่าความปลอดภัย (Default มักตั้งไว้ 5000mAh ถ้าแบตเราใหญ่กว่านี้ต้องไปแก้ใน User Set Program)
3.  **TIME OVER:** เวลาเกินกำหนด (Default 120 นาที)

เมื่อเสร็จสิ้น ให้กด **Stop** และถอดสายแบตเตอรี่ออกทันที