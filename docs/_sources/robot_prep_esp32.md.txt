# Robot Competition Preparation (‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏π‡πà‡∏™‡∏ô‡∏≤‡∏°‡πÅ‡∏Ç‡πà‡∏á)

‡πÉ‡∏ô‡∏ö‡∏ó‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡∏°‡∏≤‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ó‡∏£‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå **ESP32** ‡∏ã‡∏∂‡πà‡∏á‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô "Low-level Controller" ‡∏Ñ‡∏≠‡∏¢‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≤‡∏Å‡∏à‡∏≠‡∏¢‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡∏∞‡∏Ç‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÉ‡∏ô‡∏™‡∏ô‡∏≤‡∏°‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô

## ESP32 Fundamentals (‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå ESP32)

**ESP32** ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏¥‡∏õ‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô Dual Core ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏π‡∏á‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ó‡∏≤‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡πà‡∏á‡∏Ñ‡∏£‡∏±‡∏î

### Electrical Specs & Limits (‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ó‡∏≤‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤)

1.  **Logic Voltage:** ESP32 ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô **3.3V** ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô!
    * **‡∏´‡πâ‡∏≤‡∏°** ‡∏ï‡πà‡∏≠‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå 5V ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡∏≤ Input ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Logic Level Converter)
    * **‡∏´‡πâ‡∏≤‡∏°** ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü 5V ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡∏≤ 3.3V
2.  **Current Limit (‡∏Å‡∏£‡∏∞‡πÅ‡∏™):**
    * ‡∏à‡πà‡∏≤‡∏¢‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏ï‡πà‡∏≠‡∏Ç‡∏≤‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î **12 mA** (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥) ‡∏ñ‡∏∂‡∏á 40 mA (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î)
    * ‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏ä‡∏¥‡∏õ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏Å‡∏¥‡∏ô **1200 mA**
3.  **Power Input (‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü):**
    * **USB Port:** ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü 5V ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏´‡∏£‡∏∑‡∏≠ Power Bank (‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î)
    * **VIN (5V Pin):** ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü 5V ‡∏à‡∏≤‡∏Å‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÅ‡∏õ‡∏•‡∏á‡πÑ‡∏ü (Buck Converter) ‡∏Ç‡∏≠‡∏á‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå -> **‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå**
    * **3.3V Pin:** ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü 3.3V ‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£ Regulate ‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß (‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏ü‡πÄ‡∏Å‡∏¥‡∏ô)




### ESP32 Pinout Guide (‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡∏Ç‡∏≤‡∏û‡∏¥‡∏ô)

ESP32 ‡∏£‡∏∏‡πà‡∏ô 38-Pin ‡∏°‡∏µ‡∏Ç‡∏≤‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏¢‡∏≠‡∏∞‡∏°‡∏≤‡∏Å ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ó‡∏∏‡∏Å‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏£‡∏≤‡∏ö‡∏£‡∏∑‡πà‡∏ô ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏¢‡∏∂‡∏î‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£ **"‡πÑ‡∏ü‡∏à‡∏£‡∏≤‡∏à‡∏£"** ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡∏Ç‡∏≤‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ

```{figure} images/esp32-diyables.jpg
:alt: ESP32 38-Pin Pinout
:width: 100%
:align: center

‡∏ú‡∏±‡∏á‡∏Ç‡∏≤‡∏Ç‡∏≠‡∏á ESP32 ‡∏£‡∏∏‡πà‡∏ô 38-Pin (Source: DIYables.io)
```

#### ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢: ‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡πÅ‡∏£‡∏Å (Safe Pins)
‡∏Ç‡∏≤‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏û‡∏¥‡πÄ‡∏®‡∏© ‡πÄ‡∏õ‡πá‡∏ô Input/Output ‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡πà‡∏≠ **LED, Motor Driver (BTS7960), Relay, ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î**

```{list-table}
:widths: 20 80
:header-rows: 1

* - GPIO
  - Description
* - **16, 17**
  - ‡∏Ç‡∏≤ UART2 (‡πÅ‡∏ï‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô GPIO ‡∏õ‡∏Å‡∏ï‡∏¥‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏°‡∏≤‡∏Å)
* - **25, 26, 27**
  - ‡∏Ç‡∏≤ GPIO ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô (25, 26 ‡πÄ‡∏õ‡πá‡∏ô DAC ‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢)
* - **32, 33**
  - ‡∏Ç‡∏≤ GPIO ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô (‡∏ï‡πà‡∏≠ Crystal 32K ‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏õ‡∏Å‡∏ï‡∏¥‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ)
* - **13, 14, 27**
  - ‡∏Ç‡∏≤ GPIO ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô
```

#### ‡∏£‡∏∞‡∏ß‡∏±‡∏á: ‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á (Use with Caution)

‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß

```{list-table}
:widths: 20 80
:header-rows: 1

* - GPIO
  - ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á
* - **34, 35, 36, 39**
  - **Input Only!** ‡∏Ç‡∏≤‡∏û‡∏ß‡∏Å‡∏ô‡∏µ‡πâ (VP, VN) ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß **‡∏´‡πâ‡∏≤‡∏°** ‡∏™‡∏±‡πà‡∏á `pinMode(OUTPUT)` ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏ü LED ‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î (‡∏û‡∏±‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ) -- *‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡πà‡∏≠ Sensor*
* - **1, 3**
  - **TX0, RX0:** ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå (Upload Code / Serial Monitor) ‡∏ñ‡πâ‡∏≤‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡∏ï‡πà‡∏≠‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏∞‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß
* - **2**
  - **On-board LED:** ‡∏Ç‡∏≤‡∏ô‡∏µ‡πâ‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡∏ö‡∏ô‡∏ö‡∏≠‡∏£‡πå‡∏î ‡∏ñ‡πâ‡∏≤‡∏ï‡πà‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡πÑ‡∏ü‡πÄ‡∏¢‡∏≠‡∏∞ ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏ü‡∏ö‡∏ô‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏´‡∏£‡∏µ‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ï‡∏≠‡∏ô Boot
* - **12**
  - **Boot Fail:** ‡∏ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏î‡∏∂‡∏á‡∏Ç‡∏∂‡πâ‡∏ô HIGH ‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á... ‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏à‡∏∞‡∏ö‡∏π‡∏ó‡πÑ‡∏°‡πà‡∏Ç‡∏∂‡πâ‡∏ô (‡∏Ñ‡∏ß‡∏£‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á)
* - **15**
  - **Boot Fail:** ‡∏ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏î‡∏∂‡∏á‡∏•‡∏á LOW ‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á... ‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏à‡∏∞‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡∏Å‡∏£‡∏¥‡∏ö
```

#### ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ: ‡∏´‡πâ‡∏≤‡∏°‡∏¢‡∏∏‡πà‡∏á‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î (Do Not Use)

```{list-table}
:widths: 20 80
:header-rows: 1

* - GPIO
  - ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•
* - **6, 7, 8, 9, 10, 11**
  - ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö **SPI Flash Memory** ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ö‡∏≠‡∏£‡πå‡∏î ‡∏ñ‡πâ‡∏≤‡πÑ‡∏õ‡∏¢‡∏∏‡πà‡∏á‡∏Å‡∏±‡∏ö‡∏Ç‡∏≤‡∏û‡∏ß‡∏Å‡∏ô‡∏µ‡πâ ESP32 ‡∏à‡∏∞‡πÄ‡∏≠‡πã‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡πâ‡∏≤‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡∏™‡πà‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏≤‡∏û‡∏ß‡∏Å‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ)
```

### ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏ö‡∏≠‡∏£‡πå‡∏î 38-Pin

‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢ ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÑ‡∏•‡πà‡∏ï‡∏≤‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏à‡∏£‡∏¥‡∏á‡∏ö‡∏ô‡∏ö‡∏≠‡∏£‡πå‡∏î (‡∏ã‡πâ‡∏≤‡∏¢/‡∏Ç‡∏ß‡∏≤)

**‡∏ù‡∏±‡πà‡∏á‡∏ã‡πâ‡∏≤‡∏¢ (LEFT SIDE) - ‡∏´‡∏±‡∏ô‡∏û‡∏≠‡∏£‡πå‡∏ï USB ‡∏•‡∏á**

```{list-table}
:widths: 15 25 60
:header-rows: 1

* - Pin #
  - Name
  - Recommended Use (‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
* - 1
  - 3.3V
  - ‡πÑ‡∏ü‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå 3.3V (‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏ï‡πà‡∏≥)
* - 2
  - EN (Reset)
  - ‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡πà‡∏≠)
* - 3
  - GPIO 36 (VP)
  - **Input Only:** Analog Sensor / Digital Input
* - 4
  - GPIO 39 (VN)
  - **Input Only:** Analog Sensor / Digital Input
* - 5
  - GPIO 34
  - **Input Only:** Digital Input (‡πÄ‡∏ä‡πà‡∏ô ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î)
* - 6
  - GPIO 35
  - **Input Only:** Digital Input
* - 7
  - GPIO 32
  - General I/O (LED, Motor)
* - 8
  - GPIO 33
  - General I/O (LED, Motor)
* - 9
  - GPIO 25
  - General I/O, DAC (‡πÄ‡∏™‡∏µ‡∏¢‡∏á)
* - 10
  - GPIO 26
  - General I/O, DAC (‡πÄ‡∏™‡∏µ‡∏¢‡∏á)
* - 11
  - GPIO 27
  - General I/O
* - 12
  - GPIO 14
  - General I/O
* - 13
  - GPIO 12
  - **‡∏£‡∏∞‡∏ß‡∏±‡∏á:** Boot Strap Pin (‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á)
* - 14
  - GND
  - ‡∏Å‡∏£‡∏≤‡∏ß‡∏î‡πå
* - 15
  - GPIO 13
  - General I/O
* - 16-18
  - Flash Pins
  - **‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ (9, 10, 11)**
* - 19
  - **VIN (5V)**
  - **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏Ç‡πâ‡∏≤‡∏ö‡∏≠‡∏£‡πå‡∏î (6-12V) ‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏∂‡∏á‡πÑ‡∏ü 5V ‡πÑ‡∏õ‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå
```

**‡∏ù‡∏±‡πà‡∏á‡∏Ç‡∏ß‡∏≤ (RIGHT SIDE) - ‡∏´‡∏±‡∏ô‡∏û‡∏≠‡∏£‡πå‡∏ï USB ‡∏•‡∏á**

```{list-table}
:widths: 15 25 60
:header-rows: 1

* - Pin #
  - Name
  - Recommended Use (‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
* - 38
  - GND
  - ‡∏Å‡∏£‡∏≤‡∏ß‡∏î‡πå
* - 37
  - GPIO 23
  - SPI MOSI / General I/O
* - 36
  - GPIO 22
  - I2C SCL (‡∏à‡∏≠ OLED, Gyro)
* - 35
  - GPIO 1 (TX0)
  - **‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ** (Serial Console)
* - 34
  - GPIO 3 (RX0)
  - **‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ** (Serial Console)
* - 33
  - GPIO 21
  - I2C SDA (‡∏à‡∏≠ OLED, Gyro)
* - 32
  - GND
  - ‡∏Å‡∏£‡∏≤‡∏ß‡∏î‡πå
* - 31
  - GPIO 19
  - SPI MISO / General I/O
* - 30
  - GPIO 18
  - SPI SCK / General I/O
* - 29
  - GPIO 5
  - SPI CS / General I/O
* - 28
  - GPIO 17
  - UART2 TX / General I/O
* - 27
  - GPIO 16
  - UART2 RX / General I/O
* - 26
  - GPIO 4
  - General I/O
* - 25
  - GPIO 0
  - **‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ:** Boot Button
* - 24
  - GPIO 2
  - On-board LED / Boot Strap
* - 23
  - GPIO 15
  - **‡∏£‡∏∞‡∏ß‡∏±‡∏á:** Boot Strap Pin (‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á)
* - 20-22
  - Flash Pins
  - **‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ (6, 7, 8)**
```

:::{note}
**Coding Tip: ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ç‡∏≤‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?**

‡πÉ‡∏ô Arduino IDE ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏≠‡∏£‡πå‡∏î ESP32 ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏Ç‡∏≤‡∏î‡πâ‡∏ß‡∏¢ **"‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç GPIO"** (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏û‡∏µ‡∏¢‡∏ß‡πÜ) ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß D ‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô NodeMCU ‡∏£‡∏∏‡πà‡∏ô‡πÄ‡∏Å‡πà‡∏≤

**‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•:**
* ‡∏ö‡∏ô‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ß‡πà‡∏≤ **GPIO 25** $\rightarrow$ ‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏•‡∏Ç `25`
* ‡∏ö‡∏ô‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ß‡πà‡∏≤ **RX2 (16)** $\rightarrow$ ‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏•‡∏Ç `16`

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**
```cpp
// ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: ‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ï‡∏£‡∏á‡πÜ
const int ledPin = 2; 
const int buttonPin = 34;

// ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡πÉ‡∏™‡πà D ‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤ (‡∏ö‡∏≤‡∏á‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö)
const int ledPin = D2; 
```
:::




### PWM: analogWrite vs LEDC

‡πÉ‡∏ô Arduino ‡∏õ‡∏Å‡∏ï‡∏¥‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ `analogWrite` ‡πÅ‡∏ï‡πà‡πÉ‡∏ô ESP32 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô Software Simulation ‡∏ã‡∏∂‡πà‡∏á‡∏≠‡∏≤‡∏à‡πÑ‡∏õ‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏∑‡πà‡∏ô (‡πÄ‡∏ä‡πà‡∏ô WiFi/Bluetooth)

‡πÄ‡∏£‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ **LEDC (LED Control)** ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô **Hardware PWM** ‡πÅ‡∏ó‡πâ‡πÜ ‡∏Ç‡∏≠‡∏á ESP32 ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏¢‡∏Å‡∏≠‡∏¥‡∏™‡∏£‡∏∞ ‡πÑ‡∏°‡πà‡∏Å‡∏¥‡∏ô‡πÅ‡∏£‡∏á CPU

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î: ‡∏Å‡∏≤‡∏£‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü LED ‡∏î‡πâ‡∏ß‡∏¢ LEDC**

```{code-block} cpp
:linenos:

// Define Pin
const int ledPin = 2;  // Built-in LED

// PWM Settings
const int freq = 5000;
const int ledChannel = 0;
const int resolution = 8; // 8-bit = 0-255

void setup() {
  // 1. Setup PWM Channel
  ledcSetup(ledChannel, freq, resolution);
  
  // 2. Attach Pin to Channel
  ledcAttachPin(ledPin, ledChannel);
}

void loop() {
  // Fade In
  for(int dutyCycle = 0; dutyCycle <= 255; dutyCycle++){   
    ledcWrite(ledChannel, dutyCycle);
    delay(5);
  }
}
```

## Wireless Controller (‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏à‡∏≠‡∏¢ PS4/PS5)

‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏î‡πâ‡∏ß‡∏¢‡∏à‡∏≠‡∏¢‡∏™‡∏ï‡∏¥‡πä‡∏Å‡πÑ‡∏£‡πâ‡∏™‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÅ‡∏ó‡∏ö‡∏ó‡∏∏‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‡πÉ‡∏ô‡∏ö‡∏ó‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ **Sony DualShock 4 (PS4)** ‡∏´‡∏£‡∏∑‡∏≠ **DualSense (PS5)** ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö ESP32 ‡∏ú‡πà‡∏≤‡∏ô Bluetooth

### Bluetooth Basics (‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ö‡∏•‡∏π‡∏ó‡∏π‡∏ò)

ESP32 ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Bluetooth 2 ‡∏£‡∏∞‡∏ö‡∏ö ‡∏ã‡∏∂‡πà‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô:
* **Bluetooth Low Energy (BLE):** ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏ü ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡∏•‡∏∞‡∏ô‡πâ‡∏≠‡∏¢‡πÜ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö IoT Sensor
* **Bluetooth Classic (BR/EDR):** ‡∏Å‡∏¥‡∏ô‡πÑ‡∏ü‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ ‡πÅ‡∏ï‡πà‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **‡∏à‡∏≠‡∏¢‡πÄ‡∏Å‡∏° (Gamepads)** ‡πÅ‡∏•‡∏∞‡∏•‡∏≥‡πÇ‡∏û‡∏á

‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏≠‡∏¢ PS4/PS5 ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö **Bluetooth Classic** ‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏•‡∏ö‡∏£‡∏≤‡∏£‡∏µ‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤ **Bluepad32**

**Library Reference:**
* **Official Repo:** [https://github.com/ricardoquesada/bluepad32](https://github.com/ricardoquesada/bluepad32)
* **Installation:** ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÉ‡∏ô Arduino Library Manager ‡∏ß‡πà‡∏≤ `Bluepad32` (‡πÇ‡∏î‡∏¢ Ricardo Quesada) ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î Install

### Controller Mapping (‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î)

‡∏à‡∏≠‡∏¢‡πÄ‡∏Å‡∏°‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î 2 ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô:

```{list-table}
:widths: 20 20 60
:header-rows: 1

* - Button Type
  - Output
  - Description
* - **Digital Buttons**
  - `0` ‡∏´‡∏£‡∏∑‡∏≠ `1`
  - ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ: **Cross (X), Circle (O), Square, Triangle** ‡πÅ‡∏•‡∏∞‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏®‡∏£ (D-Pad) ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡∏õ‡∏∏‡πà‡∏° L1, R1, L3, R3 (‡∏Å‡∏î‡∏ó‡∏µ‡πà‡∏Å‡πâ‡∏≤‡∏ô‡∏≠‡∏ô‡∏≤‡∏•‡πá‡∏≠‡∏Å)
* - **Analog Buttons**
  - `0` ‡∏ñ‡∏∂‡∏á `1023`
  - ‡∏õ‡∏∏‡πà‡∏°‡πÑ‡∏Å‡∏õ‡∏∑‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á: **L2, R2** ‡∏¢‡∏¥‡πà‡∏á‡∏Å‡∏î‡∏•‡∏∂‡∏Å‡∏Ñ‡πà‡∏≤‡∏¢‡∏¥‡πà‡∏á‡∏°‡∏≤‡∏Å (‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥‡∏Ñ‡∏±‡∏ô‡πÄ‡∏£‡πà‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ö‡∏£‡∏Å)
* - **Analog Sticks**
  - `-512` ‡∏ñ‡∏∂‡∏á `511`
  - ‡∏Å‡πâ‡∏≤‡∏ô‡πÇ‡∏¢‡∏Å‡∏ã‡πâ‡∏≤‡∏¢/‡∏Ç‡∏ß‡∏≤ (Left Stick / Right Stick) ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÅ‡∏Å‡∏ô X (‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤) ‡πÅ‡∏•‡∏∞ Y (‡∏ö‡∏ô-‡∏•‡πà‡∏≤‡∏á)
```

```{note}
**Axis Y Note:** ‡πÇ‡∏î‡∏¢‡∏õ‡∏Å‡∏ï‡∏¥‡∏Ñ‡πà‡∏≤‡πÅ‡∏Å‡∏ô Y ‡∏Ç‡∏≠‡∏á‡∏à‡∏≠‡∏¢‡πÄ‡∏Å‡∏°‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ï‡∏¥‡∏î‡∏•‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏î‡∏±‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô (Up = -512) ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏ß‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏•‡∏á (Down = 511) ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏ï‡∏≠‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏Å‡∏•‡∏±‡∏ö‡∏ó‡∏¥‡∏®
```

### Pairing & Connection (‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà)

‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏à‡∏≠‡∏¢‡∏Å‡∏±‡∏ö ESP32 ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏°‡∏ô‡∏π Bluetooth ‡∏Ç‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ ‡πÅ‡∏ï‡πà‡∏ó‡∏≥‡∏ú‡πà‡∏≤‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ Pair (‡∏ó‡∏≥‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß):**
1.  ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î (‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á) ‡∏•‡∏á‡∏ö‡∏≠‡∏£‡πå‡∏î ESP32
2.  ‡πÄ‡∏õ‡∏¥‡∏î Serial Monitor ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
3.  ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏à‡∏≠‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î Pairing:
    * **PS4:** ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° **PS + Share** ‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡πÑ‡∏ü‡∏à‡∏∞‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏£‡∏±‡∏ß‡πÜ (‡∏Ç‡∏≤‡∏ß‡πÜ)
    * **PS5:** ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° **PS + Create (‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡πá‡∏Å‡∏ã‡πâ‡∏≤‡∏¢‡∏ö‡∏ô)** ‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡πÑ‡∏ü‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏∞‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö
4.  ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà ESP32 ‡∏à‡∏∞‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡πÑ‡∏ü‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏¢‡∏à‡∏∞‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏Ñ‡πâ‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏î‡∏á)
5.  **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** ESP32 ‡∏à‡∏∞‡∏à‡∏≥ **MAC Address** ‡∏Ç‡∏≠‡∏á‡∏à‡∏≠‡∏¢‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡πÅ‡∏Ñ‡πà‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° PS ‡∏ó‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏≠‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

```{warning}
**Pairing Issues:** ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏à‡∏≠‡∏¢‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡∏°‡πà ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡πâ‡∏≤‡∏¢ ESP32 ‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏ï‡∏±‡∏ß‡∏≠‡∏∑‡πà‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ **"‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤" (Forget Bluetooth Keys)** ‡∏Å‡πà‡∏≠‡∏ô ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á `ForgetBluetoothKeys` ‡πÉ‡∏ô Library ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Boot ‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡∏ñ‡πâ‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö ‡πÅ‡∏ö‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡πÉ‡∏ô void setup())
```

#### Code Example (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î)

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î (Digital) ‡πÅ‡∏•‡∏∞‡∏Å‡πâ‡∏≤‡∏ô‡πÇ‡∏¢‡∏Å (Analog) ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô

```{code-block} cpp
:linenos:

#include <Bluepad32.h>

ControllerPtr myControllers[BP32_MAX_GAMEPADS];

// Callback: ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏≠‡∏¢‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
void onConnectedController(ControllerPtr ctl) {
    Serial.printf("Controller connected: %s\n", ctl->getModelName().c_str());
    // ‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏µ‡πÑ‡∏ü LED ‡∏Ç‡∏≠‡∏á‡∏à‡∏≠‡∏¢‡πÑ‡∏î‡πâ (Red, Green, Blue)
    ctl->setColorLED(0, 255, 0); // ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß
}

void onDisconnectedController(ControllerPtr ctl) {
    Serial.printf("Controller disconnected\n");
}

void processGamepad(ControllerPtr ctl) {
    // --- 1. Digital Buttons (0 or 1) ---
    // PS4: Cross(X), Circle(O), Triangle, Square
    if (ctl->a()) Serial.println("Button X pressed");
    if (ctl->b()) Serial.println("Button O pressed");
    
    // D-Pad (‡∏•‡∏π‡∏Å‡∏®‡∏£)
    if (ctl->dpad() & 0x01) Serial.println("D-Pad Up");
    if (ctl->dpad() & 0x02) Serial.println("D-Pad Down");

    // --- 2. Analog Triggers (0 - 1023) ---
    // L2 / R2
    if (ctl->l2() > 0) Serial.printf("L2: %d\n", ctl->l2());
    if (ctl->r2() > 0) Serial.printf("R2: %d\n", ctl->r2());

    // --- 3. Analog Sticks (-512 to 511) ---
    // Left Stick (LX, LY) used for Driving
    int lx = ctl->axisX(); // Left - Right
    int ly = ctl->axisY(); // Up - Down
    
    // Filter noise (Deadzone)
    // ‡∏ñ‡πâ‡∏≤‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≠‡∏¢‡πÜ (‡∏°‡∏∑‡∏≠‡∏™‡∏±‡πà‡∏ô) ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô 0
    if (abs(lx) < 20) lx = 0;
    if (abs(ly) < 20) ly = 0;

    if (lx != 0 || ly != 0) {
        Serial.printf("Left Stick: X=%d, Y=%d\n", lx, ly);
    }
}

void setup() {
    Serial.begin(115200);

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏õ‡∏∏‡πà‡∏° BOOT (GPIO 0) ‡∏ñ‡∏π‡∏Å‡∏Å‡∏î‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    pinMode(0, INPUT_PULLUP); // ‡∏õ‡∏∏‡πà‡∏° BOOT ‡∏õ‡∏Å‡∏ï‡∏¥‡∏Ñ‡∏∑‡∏≠ GPIO 0
    if (digitalRead(0) == LOW) { // LOW ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏Å‡∏î
        Serial.println("Boot button pressed! Erasing stored keys...");
        BP32.forgetBluetoothKeys(); // ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥ Bluetooth
        delay(1000); // ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏•‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à
        Serial.println("Keys erased! Ready to pair new controller.");
    }

    // Setup Bluepad32 platform
    // ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ Bluetooth ‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏´‡πá‡∏ô
    String fv = BP32.firmwareVersion();
    Serial.print("Firmware: ");
    Serial.println(fv);

    // Setup callbacks
    BP32.setup(&onConnectedController, &onDisconnectedController);
}

void loop() {
    // ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å update() ‡∏ö‡πà‡∏≠‡∏¢‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
    bool dataUpdated = BP32.update();
    
    if (dataUpdated) {
        for (int i = 0; i < BP32_MAX_GAMEPADS; i++) {
            ControllerPtr ctl = myControllers[i];
            if (ctl && ctl->isConnected()) {
                processGamepad(ctl);
            }
        }
    }
    // ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏™‡πà delay() ‡∏¢‡∏≤‡∏ß‡πÜ ‡πÉ‡∏ô loop ‡∏ô‡∏µ‡πâ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏à‡∏≠‡∏¢‡∏´‡∏•‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
    delay(10); 
}
```

### Hardware Setup for Demos (‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏•‡∏≠‡∏á)

‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏ö‡∏≠‡∏£‡πå‡∏î ESP32 ‡∏ö‡∏≤‡∏á‡∏£‡∏∏‡πà‡∏ô‡πÉ‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ï‡∏•‡∏≤‡∏î‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (Built-in LED) ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏£‡∏≤‡∏ö‡∏£‡∏∑‡πà‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ï‡πà‡∏≠ **LED ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å** ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

**‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ:**
* 1x LED (‡∏™‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ)
* 1x ‡∏ï‡∏±‡∏ß‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô (Resistor) 220Œ© - 1kŒ©
* ‡∏™‡∏≤‡∏¢ Jumper

**‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢ (Wiring Table)**

```{list-table}
:widths: 20 40 40
:header-rows: 1

* - ESP32 Pin
  - Connect To (‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå)
  - Description
* - **GPIO 23**
  - **LED (‡∏Ç‡∏≤‡∏ö‡∏ß‡∏Å/‡∏Ç‡∏≤‡∏¢‡∏≤‡∏ß)**
  - ‡∏Ç‡∏≤ Signal ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡∏±‡πà‡∏á‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≤ 23 ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏´‡∏≤‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)
* - **GND**
  - **LED (‡∏Ç‡∏≤‡∏•‡∏ö/‡∏Ç‡∏≤‡∏™‡∏±‡πâ‡∏ô)**
  - ‡∏ï‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏´‡∏•‡∏≠‡∏î‡∏Ç‡∏≤‡∏î
```



#### Code Example 1: Digital Button (‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡πÄ‡∏õ‡∏¥‡∏î-‡∏õ‡∏¥‡∏î‡πÑ‡∏ü)

**‡πÇ‡∏à‡∏ó‡∏¢‡πå:** ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° **Cross (X)** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü, ‡∏Å‡∏î **Circle (O)** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î‡πÑ‡∏ü

```{code-block} cpp
:linenos:

#include <Bluepad32.h>

ControllerPtr myControllers[BP32_MAX_GAMEPADS];

// ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏≤ LED ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å (GPIO 23)
const int ledPin = 23;

// Callback when controller is connected
void onConnectedController(ControllerPtr ctl) {
    Serial.printf("Controller connected\n");
}

void onDisconnectedController(ControllerPtr ctl) {
    Serial.printf("Controller disconnected\n");
}

void processGamepad(ControllerPtr ctl) {
    // Check digital buttons
    // a() = Cross (X), b() = Circle (O)
    if (ctl->a()) {
        digitalWrite(ledPin, HIGH); // ‡πÑ‡∏ü‡∏ï‡∏¥‡∏î
        Serial.println("LED ON");
    }
    if (ctl->b()) {
        digitalWrite(ledPin, LOW);  // ‡πÑ‡∏ü‡∏î‡∏±‡∏ö
        Serial.println("LED OFF");
    }
}

void setup() {
    Serial.begin(115200);

    // Logic ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤ Bluetooth (‡∏Å‡∏î Boot ‡∏Ñ‡πâ‡∏≤‡∏á‡∏ï‡∏≠‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏™‡∏≤‡∏¢)
    pinMode(0, INPUT_PULLUP);
    if (digitalRead(0) == LOW) {
        Serial.println("Boot button pressed! Erasing stored keys...");
        BP32.forgetBluetoothKeys();
        delay(1000);
        Serial.println("Keys erased! Ready to pair new controller.");
    }

    pinMode(ledPin, OUTPUT);

    // Setup Bluepad32
    BP32.setup(&onConnectedController, &onDisconnectedController);
}

void loop() {
    bool dataUpdated = BP32.update();
    if (dataUpdated) {
        for (int i = 0; i < BP32_MAX_GAMEPADS; i++) {
            ControllerPtr ctl = myControllers[i];
            if (ctl && ctl->isConnected()) {
                processGamepad(ctl);
            }
        }
    }
}
```

#### Code Example 2: Analog Control (‡∏Ñ‡∏±‡∏ô‡πÇ‡∏¢‡∏Å‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü)

**‡πÇ‡∏à‡∏ó‡∏¢‡πå:** ‡πÉ‡∏ä‡πâ‡πÅ‡∏Å‡∏ô Analog ‡∏ã‡πâ‡∏≤‡∏¢ (Left Stick Y) ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡πà‡∏≤‡∏á LED ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£ **PWM**

* **Wiring:** ‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° (GPIO 23) ‡πÅ‡∏ï‡πà‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å `digitalWrite` (‡∏ï‡∏¥‡∏î/‡∏î‡∏±‡∏ö) ‡πÄ‡∏õ‡πá‡∏ô `ledcWrite` (‡∏´‡∏£‡∏µ‡πà‡πÅ‡∏™‡∏á)

```{code-block} cpp
:linenos:

#include <Bluepad32.h>

ControllerPtr myControllers[BP32_MAX_GAMEPADS];

// ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏≤ LED ‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤ PWM
const int ledPin = 23;      // ‡πÉ‡∏ä‡πâ‡∏Ç‡∏≤ 23 ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°
const int ledChannel = 0;   // ‡∏ä‡πà‡∏≠‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì PWM (0-15)
const int freq = 5000;      // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà 5 kHz
const int resolution = 8;   // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î 8-bit (0-255)

// --- 1. ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® Callback Functions ---
void onConnectedController(ControllerPtr ctl) {
    Serial.printf("Controller connected\n");
}

void onDisconnectedController(ControllerPtr ctl) {
    Serial.printf("Controller disconnected\n");
}

void setup() {
    Serial.begin(115200);

    // Logic ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤ Bluetooth
    pinMode(0, INPUT_PULLUP);
    if (digitalRead(0) == LOW) {
        BP32.forgetBluetoothKeys();
        Serial.println("Keys erased!");
        delay(1000);
    }

    // --- 2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ PWM (LEDC) ---
    ledcSetup(ledChannel, freq, resolution);
    ledcAttachPin(ledPin, ledChannel);

    BP32.setup(&onConnectedController, &onDisconnectedController);
}

void processGamepad(ControllerPtr ctl) {
    // 1. ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡πÅ‡∏Å‡∏ô Analog (-512 ‡∏ñ‡∏∂‡∏á 511)
    // axisY: ‡∏î‡∏±‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏ö (-), ‡∏î‡∏∂‡∏á‡∏•‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏ß‡∏Å (+)
    int axisY = ctl->axisY(); 
    
    // 2. ‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≤ (Map)
    // ‡πÉ‡∏ä‡πâ abs() ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏î‡∏±‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏á‡∏Å‡πá‡∏™‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô
    // ‡∏ï‡∏±‡∏î‡∏Ñ‡πà‡∏≤ Noise (Deadzone) ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
    int val = abs(axisY);
    if (val < 20) val = 0;

    // ‡πÅ‡∏õ‡∏•‡∏á‡∏ä‡πà‡∏ß‡∏á 0-512 (‡πÅ‡∏Å‡∏ô‡∏à‡∏≠‡∏¢) ‡πÄ‡∏õ‡πá‡∏ô 0-255 (PWM LED)
    int brightness = map(val, 0, 512, 0, 255);
    
    // 3. ‡∏™‡∏±‡πà‡∏á‡∏á‡∏≤‡∏ô LED
    ledcWrite(ledChannel, brightness);
}

void loop() {
    bool dataUpdated = BP32.update();
    if (dataUpdated) {
        for (int i = 0; i < BP32_MAX_GAMEPADS; i++) {
            ControllerPtr ctl = myControllers[i];
            if (ctl && ctl->isConnected()) {
                processGamepad(ctl);
            }
        }
    }
    delay(20); // ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£
}
```


:::{admonition} üß† Deep Dive: ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ LEDC ‡πÅ‡∏ó‡∏ô analogWrite ‡πÉ‡∏ô ESP32?
:class: tip

‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ñ‡∏¢‡∏ä‡∏¥‡∏ô‡∏Å‡∏±‡∏ö Arduino UNO ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡∏Ñ‡∏∏‡πâ‡∏ô‡πÄ‡∏Ñ‡∏¢‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `analogWrite(pin, value)` ‡πÅ‡∏ï‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏¢‡πâ‡∏≤‡∏¢‡∏°‡∏≤‡πÉ‡∏ä‡πâ **ESP32** ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏£‡πâ‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏£‡∏ß‡∏ô‡πÑ‡∏î‡πâ

#### 1. ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ç‡∏≠‡∏á `analogWrite` ‡∏ö‡∏ô ESP32
‡πÉ‡∏ô Arduino ESP32 Core ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤ (‡∏´‡∏£‡∏∑‡∏≠‡∏ö‡∏≤‡∏á‡πÑ‡∏•‡∏ö‡∏£‡∏≤‡∏£‡∏µ) ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `analogWrite` ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå PWM ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÅ‡∏ï‡πà‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ **Software Simulation** ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏õ‡πÅ‡∏¢‡πà‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏Å‡∏±‡∏ö‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏∑‡πà‡∏ô
* **Pin Conflict (‡∏û‡∏¥‡∏ô‡∏ä‡∏ô‡∏Å‡∏±‡∏ô):** ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢‡∏Ñ‡∏∑‡∏≠ ‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ `analogWrite` ‡∏ö‡∏ô‡∏Ç‡∏≤ **GPIO 25** ‡∏´‡∏£‡∏∑‡∏≠ **26** (‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≤ DAC - Digital to Analog Converter) ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡πÑ‡∏õ‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á WiFi ‡∏´‡∏£‡∏∑‡∏≠ Bluetooth ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏Ç‡∏≤‡∏î‡πÜ ‡∏´‡∏≤‡∏¢‡πÜ
* **Performance:** ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Software PWM ‡∏Å‡∏¥‡∏ô‡πÅ‡∏£‡∏á CPU ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Serial ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ä‡πâ‡∏≤‡∏•‡∏á

#### 2. ‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: `ledc` (LED Control)
**LEDC** ‡∏Ñ‡∏∑‡∏≠‡πÇ‡∏°‡∏î‡∏π‡∏•‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÉ‡∏ô‡∏ä‡∏¥‡∏õ ESP32 ‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì PWM ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞ (Hardware PWM) ‡πÇ‡∏î‡∏¢ **‡πÑ‡∏°‡πà‡∏Å‡∏¥‡∏ô‡πÅ‡∏£‡∏á CPU ‡πÄ‡∏•‡∏¢** ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô‡πÅ‡∏°‡πâ CPU ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏Å

**‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö PWM (LEDC Pins)**
ESP32 ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥ PWM ‡πÑ‡∏î‡πâ‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡∏≤ **‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô** ‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô Input Only

```{list-table}
:widths: 20 60 20
:header-rows: 1

* - Status
  - GPIO Pins
  - Note
* - ‚úÖ **‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (Safe)**
  - **4, 5, 13, 14, 16, 17, 18, 19, 21, 22, 23, 25, 26, 27, 32, 33**
  - ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
* - ‚ö†Ô∏è **‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á**
  - **2** (On-board LED ‡πÉ‡∏ô‡∏ö‡∏≤‡∏á‡∏£‡∏∏‡πà‡∏ô), **12** (Boot Fail if High), **15** (Boot Fail if Low)
  - ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (Boot) ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏Ç‡∏≤‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏î‡∏∂‡∏á‡πÑ‡∏ü‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ
* - ‚õî **‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ (Reserved)**
  - **1, 3** (Serial TX/RX), **6, 7, 8, 9, 10, 11** (Flash Memory)
  - ‡∏´‡πâ‡∏≤‡∏°‡∏¢‡∏∏‡πà‡∏á‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏û‡∏±‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
* - ‚ùå **‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (Input Only)**
  - **34, 35, 36 (VP), 39 (VN)**
  - ‡∏Ç‡∏≤‡∏û‡∏ß‡∏Å‡∏ô‡∏µ‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÑ‡∏ü PWM ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
```

#### 3. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Motor Driver (BTS7960)

‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ 3 ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°:

1.  **Frequency (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà):** ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ **5,000 Hz - 20,000 Hz** (5-20 kHz)
    * *‡∏ó‡∏≥‡πÑ‡∏°?* ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏ï‡πà‡∏≥‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (‡πÄ‡∏ä‡πà‡∏ô 50 Hz) ‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏à‡∏∞‡∏™‡∏±‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ñ‡∏£‡∏≤‡∏á ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ Driver ‡∏à‡∏∞‡∏£‡πâ‡∏≠‡∏ô‡∏à‡∏±‡∏î
2.  **Resolution (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î):** ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ **8-bit** (‡∏Ñ‡πà‡∏≤ 0-255) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£ map ‡∏Ñ‡πà‡∏≤
3.  **Channel (‡∏ä‡πà‡∏≠‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì):** ESP32 ‡∏°‡∏µ "‡∏ï‡∏±‡∏ß‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì" ‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡∏≠‡∏¢‡∏π‡πà 16 ‡∏ä‡πà‡∏≠‡∏á (0-15)
    * **‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö:** ‡∏ä‡πà‡∏≠‡∏á (Channel) ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô **"‡∏î‡∏µ‡πÄ‡∏à‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á"** ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≤‡∏û‡∏¥‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô **"‡∏•‡∏≥‡πÇ‡∏û‡∏á"**
    * **‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**
        * ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô **‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô** (‡πÄ‡∏ä‡πà‡∏ô ‡∏•‡πâ‡∏≠‡∏ã‡πâ‡∏≤‡∏¢‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏£‡πá‡∏ß, ‡∏•‡πâ‡∏≠‡∏Ç‡∏ß‡∏≤‡∏´‡∏°‡∏∏‡∏ô‡∏ä‡πâ‡∏≤) ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ **Channel ‡∏Ñ‡∏ô‡∏•‡∏∞‡∏ä‡πà‡∏≠‡∏á** (‡πÄ‡∏ä‡πà‡∏ô ‡∏ä‡πà‡∏≠‡∏á 0 ‡πÅ‡∏•‡∏∞ ‡∏ä‡πà‡∏≠‡∏á 1)
        * ‡∏´‡∏≤‡∏Å‡πÉ‡∏ä‡πâ Channel ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡∏Ç‡∏≤‡∏û‡∏¥‡∏ô‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏õ‡πä‡∏∞‡πÜ (‡πÄ‡∏ä‡πà‡∏ô ‡πÑ‡∏ü‡∏´‡∏ô‡πâ‡∏≤‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤ ‡∏´‡∏£‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô)

**‡∏™‡∏£‡∏∏‡∏õ:** ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ `ledc` ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏Ç‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå **"‡∏ô‡∏¥‡πà‡∏á, ‡πÄ‡∏á‡∏µ‡∏¢‡∏ö, ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏ô"** ‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ `analogWrite` ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏≤‡∏Å


**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ (Setup Code):**

```{code-block} cpp
:linenos:

// ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏≤‡∏û‡∏¥‡∏ô (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö BTS7960)
const int RPWM_PIN = 26;
const int LPWM_PIN = 27;

// ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥ PWM
const int freq = 5000;      // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà 5 kHz (‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö Motor Driver ‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà)
const int resolution = 8;   // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î 8-bit (‡∏Ñ‡πà‡∏≤ 0-255)
const int channel_R = 0;    // ‡∏ä‡πà‡∏≠‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì 0 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏°‡∏∏‡∏ô‡∏Ç‡∏ß‡∏≤
const int channel_L = 1;    // ‡∏ä‡πà‡∏≠‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì 1 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏°‡∏∏‡∏ô‡∏ã‡πâ‡∏≤‡∏¢

void setup() {
  // 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ä‡πà‡∏≠‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì PWM (Setup Channels)
  ledcSetup(channel_R, freq, resolution);
  ledcSetup(channel_L, freq, resolution);

  // 2. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Ç‡∏≤‡∏û‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏ä‡πà‡∏≠‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì (Attach Pins)
  ledcAttachPin(RPWM_PIN, channel_R);
  ledcAttachPin(LPWM_PIN, channel_L);
}

void loop() {
  // control logic
}
```
:::



## Motor Control with BTS7960 (‡∏Å‡∏≤‡∏£‡∏Ç‡∏±‡∏ö‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏π‡∏á)

**BTS7960** ‡πÄ‡∏õ‡πá‡∏ô Motor Driver ‡πÅ‡∏ö‡∏ö H-Bridge ‡∏ó‡∏µ‡πà‡∏ô‡∏¥‡∏¢‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡πÅ‡∏Ç‡πà‡∏á ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏ñ‡∏∂‡∏á **43A** (Peak)

### Pin Definition & Wiring (‡∏ú‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢)

‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ BTS7960 ‡∏Ñ‡∏∑‡∏≠‡∏Ç‡∏≤‡∏ï‡πà‡∏≠‡πÄ‡∏¢‡∏≠‡∏∞‡∏°‡∏≤‡∏Å ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏™‡∏£‡∏∏‡∏õ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö ESP32 ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ä‡∏±‡∏ß‡∏£‡πå

```{list-table}
:widths: 20 40 40
:header-rows: 1

* - BTS7960 Pin
  - Connect To (ESP32 / Power)
  - Function
* - **VCC**
  - **5V** (ESP32 Vin or 5V)
  - ‡πÑ‡∏ü‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ß‡∏á‡∏à‡∏£ Logic (‡∏´‡πâ‡∏≤‡∏°‡∏ï‡πà‡∏≠ 24V ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ!)
* - **GND**
  - **GND** (ESP32)
  - ‡∏Å‡∏£‡∏≤‡∏ß‡∏î‡πå‡∏£‡πà‡∏ß‡∏° (Common Ground)
* - **R_IS / L_IS**
  - *(‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏•‡∏≠‡∏¢)*
  - ‡∏Ç‡∏≤‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡∏£‡∏∞‡πÅ‡∏™ (Current Sense) ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô
* - **R_EN**
  - **3.3V** (ESP32)
  - Right Enable (‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)
* - **L_EN**
  - **3.3V** (ESP32)
  - Left Enable (‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)
* - **R_PWM**
  - **GPIO 26** (Example)
  - ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì PWM ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏°‡∏∏‡∏ô‡∏Ç‡∏ß‡∏≤
* - **L_PWM**
  - **GPIO 27** (Example)
  - ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì PWM ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏°‡∏∏‡∏ô‡∏ã‡πâ‡∏≤‡∏¢
* - **B+ / B-**
  - **Battery (24V)**
  - ‡πÑ‡∏ü‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå (‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏´‡∏ç‡πà)
* - **M+ / M-**
  - **Motor**
  - ‡∏Ç‡∏±‡πâ‡∏ß‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå
```

```{warning}
**‡∏£‡∏∞‡∏ß‡∏±‡∏á:** ‡∏Ç‡∏≤ `R_EN` ‡πÅ‡∏•‡∏∞ `L_EN` ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏ü‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á (HIGH) ‡πÄ‡∏™‡∏°‡∏≠ ‡πÑ‡∏°‡πà‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏´‡∏°‡∏∏‡∏ô ‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô‡∏ä‡∏≠‡∏ö‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î `digitalWrite(EN, HIGH)` ‡πÅ‡∏ï‡πà‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏Ç‡∏≤ 3.3V ‡∏Ç‡∏≠‡∏á ESP32 ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡∏à‡∏∞‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Ç‡∏≤ GPIO ‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤
```

### Code Example: Motor Control Function

‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå

```{code-block} cpp
:linenos:

// Pin Definitions
const int RPWM_PIN = 26;
const int LPWM_PIN = 27;

// PWM Properties
const int freq = 5000;
const int pwmChannel_R = 0;
const int pwmChannel_L = 1;
const int resolution = 8;

void setup() {
  // Setup PWM for both directions
  ledcSetup(pwmChannel_R, freq, resolution);
  ledcSetup(pwmChannel_L, freq, resolution);
  
  ledcAttachPin(RPWM_PIN, pwmChannel_R);
  ledcAttachPin(LPWM_PIN, pwmChannel_L);
}

// Helper Function: Drive Motor
// speed: -255 to 255 (Negative = Reverse)
void driveMotor(int speed) {
  if (speed > 0) {
    // Forward
    ledcWrite(pwmChannel_R, speed);
    ledcWrite(pwmChannel_L, 0);
  } else if (speed < 0) {
    // Backward (Convert negative to positive)
    ledcWrite(pwmChannel_R, 0);
    ledcWrite(pwmChannel_L, abs(speed));
  } else {
    // Stop
    ledcWrite(pwmChannel_R, 0);
    ledcWrite(pwmChannel_L, 0);
  }
}

void loop() {
  // Example: Accelerate forward
  for (int i=0; i<255; i++) {
    driveMotor(i);
    delay(10);
  }
  delay(1000);
  
  // Example: Reverse
  driveMotor(-150);
  delay(2000);
  
  driveMotor(0); // Stop
  delay(2000);
}
```


## Final Mission: Wireless Motor Control (‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏û‡∏¥‡∏ä‡∏¥‡∏ï‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏£‡πâ‡∏™‡∏≤‡∏¢)

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß ‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏≤‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ô

**‡πÇ‡∏à‡∏ó‡∏¢‡πå:** ‡∏à‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏Ç‡∏≠‡∏á **DC Motor 1 ‡∏ï‡∏±‡∏ß** ‡∏ú‡πà‡∏≤‡∏ô‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏Ç‡∏±‡∏ö **BTS7960** ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ **‡∏Å‡πâ‡∏≤‡∏ô‡∏≠‡∏ô‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏ã‡πâ‡∏≤‡∏¢ (Left Stick)** ‡∏Ç‡∏≠‡∏á‡∏à‡∏≠‡∏¢ PS4/PS5

**‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (Requirements):**
1.  **‡∏î‡∏±‡∏ô‡∏Å‡πâ‡∏≤‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô (Up):** ‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏ô‡πâ‡∏≤ (Forward) ‡∏¢‡∏¥‡πà‡∏á‡∏î‡∏±‡∏ô‡∏™‡∏∏‡∏î‡∏¢‡∏¥‡πà‡∏á‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏£‡πá‡∏ß
2.  **‡∏î‡∏∂‡∏á‡∏Å‡πâ‡∏≤‡∏ô‡∏•‡∏á (Down):** ‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏´‡∏°‡∏∏‡∏ô‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á (Backward) ‡∏¢‡∏¥‡πà‡∏á‡∏î‡∏∂‡∏á‡∏™‡∏∏‡∏î‡∏¢‡∏¥‡πà‡∏á‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏£‡πá‡∏ß
3.  **‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏Å‡πâ‡∏≤‡∏ô (Center):** ‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏´‡∏¢‡∏∏‡∏î‡∏´‡∏°‡∏∏‡∏ô
4.  **Deadzone:** ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á (‡πÄ‡∏ä‡πà‡∏ô‡∏Ñ‡πà‡∏≤ < 20 ‡πÉ‡∏´‡πâ‡∏ñ‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô 0) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Ñ‡∏£‡∏≤‡∏á
5.  **PWM:** ‡πÉ‡∏ä‡πâ `ledc` ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà 5 kHz ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î 8-bit

**‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ (Hints):**
* ‡∏Ñ‡πà‡∏≤‡πÅ‡∏Å‡∏ô Y (`axisY`) ‡∏õ‡∏Å‡∏ï‡∏¥: ‡∏î‡∏±‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô = ‡∏ï‡∏¥‡∏î‡∏•‡∏ö (-512), ‡∏î‡∏∂‡∏á‡∏•‡∏á = ‡∏ö‡∏ß‡∏Å (511)
* ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `map()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡∏¢‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏à‡∏≠‡∏¢ (-512 ‡∏ñ‡∏∂‡∏á 512) ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡πà‡∏≤‡∏ô PWM ‡∏Ç‡∏≠‡∏á‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå (-255 ‡∏ñ‡∏∂‡∏á 255) ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏¢‡∏Å‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏Å‡πá‡πÑ‡∏î‡πâ

````{only} html
:::{dropdown} **‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢‡πÇ‡∏Ñ‡πâ‡∏î (Full Solution Code)**
:color: success
:icon: code

```{code-block} cpp
:linenos:

#include <Bluepad32.h>

ControllerPtr myControllers[BP32_MAX_GAMEPADS];

// --- Pins for BTS7960 ---
const int RPWM_PIN = 26; // Forward PWM
const int LPWM_PIN = 27; // Backward PWM
// Note: R_EN and L_EN should be connected to 3.3V

// --- PWM Settings ---
const int freq = 5000;
const int resolution = 8;
const int ch_R = 0;
const int ch_L = 1;

// --- Setup Functions ---
void onConnectedController(ControllerPtr ctl) {
    Serial.printf("Controller connected\n");
}

void onDisconnectedController(ControllerPtr ctl) {
    Serial.printf("Controller disconnected\n");
}

// Helper: Drive Motor (-255 to 255)
void driveMotor(int speed) {
    // Constrain speed to valid PWM range
    speed = constrain(speed, -255, 255);

    if (speed > 0) {
        // Forward: Activate RPWM, Stop LPWM
        ledcWrite(ch_R, speed);
        ledcWrite(ch_L, 0);
    } else if (speed < 0) {
        // Backward: Activate LPWM, Stop RPWM
        ledcWrite(ch_R, 0);
        ledcWrite(ch_L, abs(speed));
    } else {
        // Stop
        ledcWrite(ch_R, 0);
        ledcWrite(ch_L, 0);
    }
}

void processGamepad(ControllerPtr ctl) {
    // 1. Read Left Stick Y (-512 to 511)
    // Up is negative, Down is positive
    int rawY = ctl->axisY();

    // 2. Apply Deadzone (Filter small movements)
    if (abs(rawY) < 20) rawY = 0;

    // 3. Map to PWM (-255 to 255)
    // We invert the mapping so:
    // -512 (Up)   -> 255 (Forward)
    //  512 (Down) -> -255 (Backward)
    int motorSpeed = map(rawY, -512, 512, 255, -255);

    // 4. Drive Motor
    driveMotor(motorSpeed);
    
    // Debug
    // Serial.printf("Raw: %d -> Speed: %d\n", rawY, motorSpeed);
}

void setup() {
    Serial.begin(115200);

    // Reset Bluetooth logic (Boot button)
    pinMode(0, INPUT_PULLUP);
    if (digitalRead(0) == LOW) {
        BP32.forgetBluetoothKeys();
        delay(1000);
    }

    // PWM Setup
    ledcSetup(ch_R, freq, resolution);
    ledcSetup(ch_L, freq, resolution);
    ledcAttachPin(RPWM_PIN, ch_R);
    ledcAttachPin(LPWM_PIN, ch_L);

    // Bluepad Setup
    BP32.setup(&onConnectedController, &onDisconnectedController);
}

void loop() {
    bool dataUpdated = BP32.update();
    if (dataUpdated) {
        for (int i = 0; i < BP32_MAX_GAMEPADS; i++) {
            ControllerPtr ctl = myControllers[i];
            if (ctl && ctl->isConnected()) {
                processGamepad(ctl);
            }
        }
    }
    delay(20);
}
```
:::
````

```{only} latex
**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏â‡∏•‡∏¢‡πÇ‡∏Ñ‡πâ‡∏î‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏° ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå
```